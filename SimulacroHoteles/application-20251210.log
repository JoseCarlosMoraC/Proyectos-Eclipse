2025-12-10 08:59:24.943 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 08:59:25.147 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 08:59:25.167 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 08:59:25.168 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 08:59:25.176 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 08:59:25.182 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 08:59:25.182 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 08:59:25.182 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 08:59:25.184 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 08:59:25.185 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 08:59:25.186 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 08:59:25.187 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 08:59:25.207 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-10 08:59:25.659 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=259605100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 08:59:19 CET 2025, lastUpdateTimeNanos=70469910222300}
2025-12-10 08:59:25.659 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=260486800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 08:59:19 CET 2025, lastUpdateTimeNanos=70469910222300}
2025-12-10 08:59:25.659 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=308363700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 08:59:19 CET 2025, lastUpdateTimeNanos=70469910222200}
2025-12-10 08:59:25.662 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:25.665 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=259.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 08:59:25.665 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:25.665 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:25.666 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 08:59:25.666 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=259.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=308.4 ms, state=CONNECTED}]
2025-12-10 08:59:25.666 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:25.666 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:25.667 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=259.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=260.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=308.4 ms, state=CONNECTED}]
2025-12-10 08:59:25.667 [cluster-ClusterId{value='6939285ddbd9ba731c8b655c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:25.669 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:25.675 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 08:59:25.959 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=282 ms
2025-12-10 08:59:25.960 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=289 ms
2025-12-10 08:59:25.970 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424519 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "w3HiOMAjT76vJi1nNWjvAA==", "subType": "04"}}}}
2025-12-10 08:59:26.077 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 101.0112 ms using a connection with driver-generated ID 7 and server-generated ID 424519 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 08:59:26.083 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 08:59:26.084 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:00:01.948 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 09:00:02.097 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:00:02.114 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:00:02.114 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 09:00:02.123 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 09:00:02.127 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:00:02.128 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 09:00:02.128 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 09:00:02.129 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:00:02.130 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:00:02.132 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:00:02.133 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:00:02.154 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-10 09:00:02.602 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=338541600, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 08:59:57 CET 2025, lastUpdateTimeNanos=70506853928600}
2025-12-10 09:00:02.602 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=338541100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 08:59:57 CET 2025, lastUpdateTimeNanos=70506853928500}
2025-12-10 09:00:02.602 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=338540700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 08:59:57 CET 2025, lastUpdateTimeNanos=70506853928500}
2025-12-10 09:00:02.605 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:02.609 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=338.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:00:02.609 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:02.609 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:02.610 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 09:00:02.610 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=338.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=338.5 ms, state=CONNECTED}]
2025-12-10 09:00:02.610 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:02.610 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:02.611 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=338.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=338.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=338.5 ms, state=CONNECTED}]
2025-12-10 09:00:02.611 [cluster-ClusterId{value='69392882bc37771a9d2bc7cc', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:02.612 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:02.615 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:00:02.894 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=278 ms
2025-12-10 09:00:02.895 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=282 ms
2025-12-10 09:00:02.904 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424520 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "pS7BLAy6QZCmOa1CGszh9g==", "subType": "04"}}}}
2025-12-10 09:00:03.007 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 97.416 ms using a connection with driver-generated ID 7 and server-generated ID 424520 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 09:00:03.013 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:03.015 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:00:03.023 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 09:00:03.024 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 09:00:03.025 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 09:00:03.026 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 09:00:03.027 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 09:00:03.028 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 09:00:03.028 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 09:00:03.028 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 09:00:03.028 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 09:00:03.028 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-10 09:00:03.029 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:03.029 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:00:03.031 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424520 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765353600, "i": 24}}, "signature": {"hash": {"$binary": {"base64": "pyEE3RyhkHKIrxa70A4yHOfRFAA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "pS7BLAy6QZCmOa1CGszh9g==", "subType": "04"}}}}
2025-12-10 09:00:03.080 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.4298 ms using a connection with driver-generated ID 7 and server-generated ID 424520 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765353600, "i": 24}}, "signature": {"hash": {"$binary": {"base64": "pyEE3RyhkHKIrxa70A4yHOfRFAA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765353600, "i": 24}}}
2025-12-10 09:00:03.081 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:00:03.081 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:00:03.082 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 09:00:03.082 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-10 09:08:25.050 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 09:08:25.571 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 09:08:25.576 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 09:08:25.579 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 09:08:25.579 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 09:08:25.595 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:08:25.598 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 09:08:25.607 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:08:25.614 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:08:25.615 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:08:25.616 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:08:25.617 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:08:25.618 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:08:26.131 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=278177000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 09:08:23 CET 2025, lastUpdateTimeNanos=71010384767400}
2025-12-10 09:08:26.131 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=308830100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 09:08:23 CET 2025, lastUpdateTimeNanos=71010384767300}
2025-12-10 09:08:26.133 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.133 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=336432600, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 09:08:23 CET 2025, lastUpdateTimeNanos=71010390532900}
2025-12-10 09:08:26.137 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=308.8 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:08:26.137 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.137 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.138 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 09:08:26.138 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=308.8 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=278.2 ms, state=CONNECTED}]
2025-12-10 09:08:26.138 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.138 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.139 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=336.4 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=308.8 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=278.2 ms, state=CONNECTED}]
2025-12-10 09:08:26.139 [cluster-ClusterId{value='69392a79ab2bf45a11ef7f48', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.141 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.145 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.403 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=256 ms
2025-12-10 09:08:26.404 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=261 ms
2025-12-10 09:08:26.413 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:26.508 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 91.0896 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 09:08:26.514 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.514 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.521 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 09:08:26.522 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 09:08:26.523 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 09:08:26.524 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 09:08:26.525 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 09:08:26.525 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 09:08:26.525 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 09:08:26.525 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-10 09:08:26.525 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.526 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.528 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354103, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "hVeHsPwfMs+AwwfQtW4I+ZFDhcE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:26.573 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.7548 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354103, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "hVeHsPwfMs+AwwfQtW4I+ZFDhcE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354103, "i": 2}}}
2025-12-10 09:08:26.574 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.574 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.575 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 09:08:26.575 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-10 09:08:26.575 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.575 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.577 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354103, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "hVeHsPwfMs+AwwfQtW4I+ZFDhcE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:26.624 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.7609 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 09:08:26.624 [main] DEBUG org.mongodb.driver.operation - Received batch of 2 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.624 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.625 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 2
2025-12-10 09:08:26.627 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 09:08:26.628 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 09:08:26.628 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-10 09:08:26.628 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.628 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.629 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354103, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "hVeHsPwfMs+AwwfQtW4I+ZFDhcE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:26.680 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.6382 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 09:08:26.681 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.681 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.682 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 40
2025-12-10 09:08:26.682 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-10 09:08:26.688 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.688 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.696 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354103, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "hVeHsPwfMs+AwwfQtW4I+ZFDhcE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 09:08:26.767 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 72.9878 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354104, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 1}}}
2025-12-10 09:08:26.770 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.771 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-10 09:08:26.771 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.771 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.772 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:26.818 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.2544 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 1}}}
2025-12-10 09:08:26.818 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.818 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.819 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 09:08:26.820 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 09:08:26.820 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 120.0€
2025-12-10 09:08:26.820 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 09:08:26.821 [main] INFO  Controllers.GestionaHoteles -   - PENTHOUSE: 500.0€
2025-12-10 09:08:26.821 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-10 09:08:26.821 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.822 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.822 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 09:08:26.823 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 09:08:26.874 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 51.4421 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354104, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 1}}}
2025-12-10 09:08:26.874 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.874 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-10 09:08:26.874 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-10 09:08:26.875 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.875 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.877 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 09:08:26.923 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 47.2398 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354104, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 1}}}
2025-12-10 09:08:26.924 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.924 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-10 09:08:26.924 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.924 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.925 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:26.971 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.8282 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 1}}}
2025-12-10 09:08:26.972 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.972 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:26.972 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-10 09:08:26.972 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:26.973 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:26.973 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 09:08:27.022 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 48.5127 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354104, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 2}}}
2025-12-10 09:08:27.022 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:27.023 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-10 09:08:27.023 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:27.023 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:27.024 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:27.071 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.9542 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 3}}}
2025-12-10 09:08:27.071 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:27.071 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:27.072 [main] INFO  Controllers.GestionaHoteles - Habitaciones restantes en h101:
2025-12-10 09:08:27.072 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 09:08:27.072 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 120.0€
2025-12-10 09:08:27.072 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 09:08:27.072 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-10 09:08:27.077 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:27.077 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:08:27.078 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "8zJ5ySS3SUKogdcTn1XvVg==", "subType": "04"}}}}
2025-12-10 09:08:27.125 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 46.4203 ms using a connection with driver-generated ID 7 and server-generated ID 424651 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354104, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ZNQwUh+HgJDil70yIvg8IgzDeB0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354104, "i": 3}}}
2025-12-10 09:08:27.125 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:08:27.125 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:08:27.125 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 09:08:27.125 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 09:13:13.593 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 09:13:13.773 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 09:13:13.782 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 09:13:13.783 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:13:13.787 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 09:13:13.787 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 09:13:13.798 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:13:13.808 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:13:13.810 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:13:13.810 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:13:13.812 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:13:13.813 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:13:13.815 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 09:13:14.333 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=346505000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 09:13:10 CET 2025, lastUpdateTimeNanos=71298585721400}
2025-12-10 09:13:14.333 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=335819000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 09:13:10 CET 2025, lastUpdateTimeNanos=71298585721300}
2025-12-10 09:13:14.333 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=337864100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 09:13:10 CET 2025, lastUpdateTimeNanos=71298585721400}
2025-12-10 09:13:14.335 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.337 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=337.9 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:13:14.338 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.338 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.338 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=337.9 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=346.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:13:14.338 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.338 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.339 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 09:13:14.339 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=337.9 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=346.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=335.8 ms, state=CONNECTED}]
2025-12-10 09:13:14.339 [cluster-ClusterId{value='69392b990f78166d79924578', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.341 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.344 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:14.630 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=284 ms
2025-12-10 09:13:14.631 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=289 ms
2025-12-10 09:13:14.641 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:14.746 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 100.7683 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 09:13:14.751 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.752 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:14.757 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 09:13:14.757 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 09:13:14.757 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 09:13:14.758 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 09:13:14.759 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 09:13:14.760 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-10 09:13:14.761 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.761 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:14.763 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354390, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "TojF+nR94jvAnByahncRCtwl6fs=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:14.814 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.8678 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354390, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "TojF+nR94jvAnByahncRCtwl6fs=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354390, "i": 3}}}
2025-12-10 09:13:14.815 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.815 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:14.816 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 09:13:14.816 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-10 09:13:14.816 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.816 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:14.817 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354390, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "TojF+nR94jvAnByahncRCtwl6fs=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:14.867 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.3613 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 09:13:14.868 [main] DEBUG org.mongodb.driver.operation - Received batch of 2 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.868 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:14.868 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 2
2025-12-10 09:13:14.871 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 09:13:14.871 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 09:13:14.871 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-10 09:13:14.871 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.871 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:14.872 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354390, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "TojF+nR94jvAnByahncRCtwl6fs=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:14.926 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 52.5732 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 09:13:14.927 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.928 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:14.928 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 40
2025-12-10 09:13:14.928 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-10 09:13:14.935 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:14.935 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:14.942 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354390, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "TojF+nR94jvAnByahncRCtwl6fs=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 09:13:15.002 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 60.4442 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354392, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 1}}}
2025-12-10 09:13:15.004 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.005 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-10 09:13:15.005 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.005 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:15.006 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:15.056 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.3631 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 1}}}
2025-12-10 09:13:15.057 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.057 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.057 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 09:13:15.058 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 09:13:15.058 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 09:13:15.058 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 09:13:15.058 [main] INFO  Controllers.GestionaHoteles -   - PENTHOUSE: 500.0€
2025-12-10 09:13:15.058 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-10 09:13:15.059 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.059 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:15.059 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 09:13:15.060 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 09:13:15.117 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 56.7809 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354392, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 1}}}
2025-12-10 09:13:15.118 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.118 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-10 09:13:15.118 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-10 09:13:15.119 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.119 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:15.121 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 09:13:15.172 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 52.0361 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354392, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 1}}}
2025-12-10 09:13:15.172 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.172 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-10 09:13:15.173 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.173 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:15.173 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:15.224 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.1753 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 1}}}
2025-12-10 09:13:15.225 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.225 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.225 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-10 09:13:15.225 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.225 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:15.226 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 09:13:15.280 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 53.2132 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354392, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 2}}}
2025-12-10 09:13:15.280 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.280 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-10 09:13:15.281 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.281 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:15.281 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:15.332 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.125 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 3}}}
2025-12-10 09:13:15.333 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.333 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.333 [main] INFO  Controllers.GestionaHoteles - Habitaciones restantes en h101:
2025-12-10 09:13:15.333 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 09:13:15.333 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 09:13:15.333 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 09:13:15.333 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-10 09:13:15.337 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.338 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:13:15.339 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "loWK7ZgKR7CQtk232e4xHw==", "subType": "04"}}}}
2025-12-10 09:13:15.389 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 50.6875 ms using a connection with driver-generated ID 7 and server-generated ID 424703 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354392, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "9jMLt3SuoO75xlRoMgONnueQKSM=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354392, "i": 4}}}
2025-12-10 09:13:15.390 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:13:15.390 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:13:15.390 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 09:13:15.390 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 09:21:06.392 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 09:21:06.595 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 09:21:06.604 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 09:21:06.605 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:21:06.608 [main] INFO  Controllers.GestionaHoteles - === INICIO DE LA GESTIÓN DE HOTELES ===
2025-12-10 09:21:06.609 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 09:21:06.621 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:21:06.629 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:21:06.631 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:21:06.632 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 09:21:06.633 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 09:21:06.634 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 09:21:06.636 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 09:21:07.164 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=326150300, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 09:21:04 CET 2025, lastUpdateTimeNanos=71771415253100}
2025-12-10 09:21:07.166 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=327136400, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 09:21:04 CET 2025, lastUpdateTimeNanos=71771415253100}
2025-12-10 09:21:07.166 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=329094400, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 09:21:04 CET 2025, lastUpdateTimeNanos=71771415253100}
2025-12-10 09:21:07.167 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.169 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 09:21:07.170 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=326.2 ms, state=CONNECTED}]
2025-12-10 09:21:07.171 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.171 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.171 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=329.1 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=326.2 ms, state=CONNECTED}]
2025-12-10 09:21:07.172 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.172 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.172 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=329.1 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=327.1 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=326.2 ms, state=CONNECTED}]
2025-12-10 09:21:07.172 [cluster-ClusterId{value='69392d72fd700f1f851179e4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.174 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.180 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.462 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=281 ms
2025-12-10 09:21:07.463 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=287 ms
2025-12-10 09:21:07.473 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:07.578 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 99.818 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 09:21:07.583 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.584 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.590 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 09:21:07.590 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 09:21:07.590 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 09:21:07.590 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 09:21:07.590 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 09:21:07.590 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 09:21:07.591 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 09:21:07.592 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 09:21:07.593 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel con ID h101 ---
2025-12-10 09:21:07.594 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.594 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:07.595 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354864, "i": 35}}, "signature": {"hash": {"$binary": {"base64": "7mT4NC8Ev5JUgIT+y082uYsbH7Y=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:07.645 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.4475 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354864, "i": 35}}, "signature": {"hash": {"$binary": {"base64": "7mT4NC8Ev5JUgIT+y082uYsbH7Y=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354864, "i": 35}}}
2025-12-10 09:21:07.646 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.646 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.647 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 09:21:07.647 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 3: Hoteles en Madrid ===
2025-12-10 09:21:07.647 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.647 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:07.649 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354864, "i": 35}}, "signature": {"hash": {"$binary": {"base64": "7mT4NC8Ev5JUgIT+y082uYsbH7Y=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:07.698 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.3981 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 09:21:07.698 [main] DEBUG org.mongodb.driver.operation - Received batch of 2 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.699 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.699 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 2
2025-12-10 09:21:07.701 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 09:21:07.702 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 09:21:07.702 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: Número de hoteles con Suite Junior ===
2025-12-10 09:21:07.702 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.702 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:07.703 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354864, "i": 35}}, "signature": {"hash": {"$binary": {"base64": "7mT4NC8Ev5JUgIT+y082uYsbH7Y=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:07.755 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.9665 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 09:21:07.756 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.756 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.756 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 40
2025-12-10 09:21:07.756 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Añadir Penthouse al hotel h101 ===
2025-12-10 09:21:07.762 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.762 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:07.769 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354864, "i": 35}}, "signature": {"hash": {"$binary": {"base64": "7mT4NC8Ev5JUgIT+y082uYsbH7Y=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 09:21:07.828 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 60.2903 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354865, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 2}}}
2025-12-10 09:21:07.831 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.832 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente al hotel h101.
2025-12-10 09:21:07.832 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.832 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:07.833 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:07.882 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.0745 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 4}}}
2025-12-10 09:21:07.883 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.883 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.883 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 09:21:07.884 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 09:21:07.884 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 09:21:07.884 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 09:21:07.884 [main] INFO  Controllers.GestionaHoteles -   - PENTHOUSE: 500.0€
2025-12-10 09:21:07.885 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Actualizar código postal de Gran Vía a 28013 ===
2025-12-10 09:21:07.886 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.886 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:07.886 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 09:21:07.887 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 09:21:07.946 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 58.9235 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354865, "i": 10}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 10}}}
2025-12-10 09:21:07.947 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.947 [main] INFO  Controllers.GestionaHoteles - Códigos postales de hoteles en Gran Vía actualizados a 28013.
2025-12-10 09:21:07.947 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.947 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:07.948 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:07.998 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.1773 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 10}}}
2025-12-10 09:21:07.998 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.999 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:07.999 [main] INFO  Controllers.GestionaHoteles - Nuevo código postal de Grand Hotel Central: 08003
2025-12-10 09:21:07.999 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Actualizar precio de habitación Individual en h101 ===
2025-12-10 09:21:07.999 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:07.999 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.001 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 09:21:08.050 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 49.9743 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354865, "i": 10}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 10}}}
2025-12-10 09:21:08.051 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.051 [main] INFO  Controllers.GestionaHoteles - Precio de habitación Individual en h101 actualizado a 90.00€.
2025-12-10 09:21:08.052 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.052 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.052 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:08.102 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.0527 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 10}}}
2025-12-10 09:21:08.102 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.102 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.103 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Eliminar habitaciones > 300€ en Grand Hotel Central ===
2025-12-10 09:21:08.103 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.103 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.104 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 09:21:08.155 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 51.8148 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354865, "i": 11}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 11}}}
2025-12-10 09:21:08.156 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.156 [main] INFO  Controllers.GestionaHoteles - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 09:21:08.156 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.157 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.157 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:08.207 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.579 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 11}}}
2025-12-10 09:21:08.208 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.208 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.208 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Calcular media de estrellas en Barcelona ===
2025-12-10 09:21:08.213 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.213 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.214 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:08.265 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 50.1978 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 11}}}
2025-12-10 09:21:08.265 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.265 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.265 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 09:21:08.266 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ del Grand Hotel Central ===
2025-12-10 09:21:08.266 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.266 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.267 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 26 and the operation ID is 23. Command: {"update": "hoteles", "ordered": true, "txnNumber": 4, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 09:21:08.316 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 49.4817 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 26 and the operation ID is 23. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765354865, "i": 11}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 11}}}
2025-12-10 09:21:08.316 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.316 [main] INFO  Controllers.GestionaHoteles - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 09:21:08.317 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.317 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.317 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 27 and the operation ID is 24. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:08.368 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.5918 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 27 and the operation ID is 24. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 11}}}
2025-12-10 09:21:08.368 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.369 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.369 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Calcular media de estrellas en Barcelona ===
2025-12-10 09:21:08.369 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.369 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 09:21:08.370 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 28 and the operation ID is 25. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "c/BWOsN3TVeJj9MBmQUFbg==", "subType": "04"}}}}
2025-12-10 09:21:08.419 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 49.9299 ms using a connection with driver-generated ID 7 and server-generated ID 424790 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 28 and the operation ID is 25. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765354865, "i": 11}}, "signature": {"hash": {"$binary": {"base64": "C8VaonA545+gjVgX24hr1BT/utI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765354865, "i": 11}}}
2025-12-10 09:21:08.421 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 09:21:08.421 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 09:21:08.421 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 09:21:08.421 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 10:00:44.796 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:00:46.010 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@517d4a0d, com.mongodb.Jep395RecordCodecProvider@7862f56, com.mongodb.KotlinCodecProvider@3a12c404]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:00:46.015 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:00:46.019 [main] INFO  Controllers.GestionaHoteles - === INICIO DE LA GESTIÓN DE HOTELES ===
2025-12-10 10:00:46.019 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:00:46.030 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:00:46.043 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:00:46.044 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:00:46.050 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:00:46.052 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:00:46.052 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:00:46.054 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:00:46.054 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:00:46.536 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=283333000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:00:42 CET 2025, lastUpdateTimeNanos=74150795952400}
2025-12-10 10:00:46.536 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=218034800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:00:42 CET 2025, lastUpdateTimeNanos=74150795952500}
2025-12-10 10:00:46.537 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:46.540 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=283.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:00:46.540 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:46.540 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:46.540 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=218.0 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=283.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:00:46.540 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:47.427 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=163671700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:00:42 CET 2025, lastUpdateTimeNanos=74151697200300}
2025-12-10 10:00:47.427 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:47.428 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:00:47.428 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=218.0 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=283.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=163.7 ms, state=CONNECTED}]
2025-12-10 10:00:47.428 [cluster-ClusterId{value='693936bd17a7ef36dba6b2bd', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:47.430 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:47.432 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:00:47.825 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=391 ms
2025-12-10 10:00:47.827 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=396 ms
2025-12-10 10:00:47.837 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "tBE089PkTIyIFq+g+M3PJw==", "subType": "04"}}}}
2025-12-10 10:00:47.964 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 121.8807 ms using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:00:47.971 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:47.972 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:00:47.978 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:00:47.979 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:00:47.980 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:00:47.981 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel con ID h101 ---
2025-12-10 10:00:47.982 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:47.982 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:00:47.984 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357244, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "fA0f7n7zUHneir95IjbX5CPCyjo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "tBE089PkTIyIFq+g+M3PJw==", "subType": "04"}}}}
2025-12-10 10:00:48.050 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 66.9999 ms using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357245, "i": 1}}}
2025-12-10 10:00:48.051 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:48.051 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:00:48.052 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:00:48.052 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 3: Hoteles en Madrid ===
2025-12-10 10:00:48.052 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:48.052 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:00:48.054 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": "35660"}, {"$or": [{"calificacionEstrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "tBE089PkTIyIFq+g+M3PJw==", "subType": "04"}}}}
2025-12-10 10:00:48.589 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 535.3244 ms using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a94"}, "idHotel": "h128", "nombre": "Hotel Dunas Doradas", "estrellas": 5, "admiteMascotas": true, "fechaApertura": "2016-06-07", "ubicacion": {"calle": "Avenida Arena", "numero": 2, "codigoPostal": "35660", "coordenadas": {"lat": 28.73, "lon": -13.87}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 340, "capacidad": 3, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 165, "capacidad": 2, "disponible": true}, {"tipo": "INDIVIDUAL", "precio": 100, "capacidad": 1, "disponible": false}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357245, "i": 1}}}
2025-12-10 10:00:48.590 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:48.590 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:00:48.590 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 1
2025-12-10 10:00:48.593 [main] INFO  Controllers.GestionaHoteles - - Hotel Dunas Doradas (CP: 35660, Estrellas: 5, Mascotas: true)
2025-12-10 10:00:48.593 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: Número de hoteles con Suite Junior ===
2025-12-10 10:00:48.593 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:48.594 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:00:48.594 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {"habitaciones": {"$elemMatch": {"tipo": "SUITEJUNIOR", "disponible": true}}}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "tBE089PkTIyIFq+g+M3PJw==", "subType": "04"}}}}
2025-12-10 10:00:48.700 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 104.7662 ms using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:00:48.701 [main] DEBUG org.mongodb.driver.operation - Received batch of 31 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:48.701 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:00:48.702 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 31
2025-12-10 10:00:48.702 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Añadir Penthouse al hotel h101 ===
2025-12-10 10:00:48.707 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:48.707 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:00:48.714 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "tBE089PkTIyIFq+g+M3PJw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:00:48.780 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 66.6842 ms using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357245, "i": 3}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357245, "i": 3}}}
2025-12-10 10:00:48.782 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:00:48.783 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente al hotel h101.
2025-12-10 10:00:48.783 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:48.783 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:00:48.784 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "tBE089PkTIyIFq+g+M3PJw==", "subType": "04"}}}}
2025-12-10 10:00:49.057 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 272.5507 ms using a connection with driver-generated ID 7 and server-generated ID 425237 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357245, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jvSvh7YO5pvMz8z0aOLEDXYobHU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357245, "i": 3}}}
2025-12-10 10:00:49.058 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:00:49.058 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:39.982 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:01:40.156 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@66ac5762, com.mongodb.Jep395RecordCodecProvider@797cf65c, com.mongodb.KotlinCodecProvider@31bcf236]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:01:40.163 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:01:40.165 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:01:40.169 [main] INFO  Controllers.GestionaHoteles - === INICIO DE LA GESTIÓN DE HOTELES ===
2025-12-10 10:01:40.169 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:01:40.181 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:01:40.190 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:01:40.192 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:01:40.192 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:01:40.194 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:01:40.195 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:01:40.197 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:01:40.669 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=292593800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:01:37 CET 2025, lastUpdateTimeNanos=74204931396000}
2025-12-10 10:01:40.671 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:40.677 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=292.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:01:40.678 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:41.537 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=220867000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:01:37 CET 2025, lastUpdateTimeNanos=74205806893500}
2025-12-10 10:01:41.537 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:41.538 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=292.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=220.9 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:01:41.538 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:43.788 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=452157100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:01:40 CET 2025, lastUpdateTimeNanos=74208057672600}
2025-12-10 10:01:43.788 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:43.789 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:01:43.789 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=292.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=220.9 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=452.2 ms, state=CONNECTED}]
2025-12-10 10:01:43.789 [cluster-ClusterId{value='693936f48ef596634366d370', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:43.791 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:43.794 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.061 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=266 ms
2025-12-10 10:01:44.063 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=270 ms
2025-12-10 10:01:44.071 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.170 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 92.9407 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "ca ...
2025-12-10 10:01:44.176 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.178 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.184 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:01:44.184 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:01:44.184 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:01:44.184 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:01:44.184 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:01:44.184 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:01:44.184 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:01:44.185 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:01:44.186 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:01:44.187 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel con ID h101 ---
2025-12-10 10:01:44.188 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.188 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.190 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357300, "i": 44}}, "signature": {"hash": {"$binary": {"base64": "vxSApcsXxNQhE1k/0otTE57jqAQ=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.236 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.6491 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357301, "i": 3}}}
2025-12-10 10:01:44.236 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.237 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.237 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:01:44.237 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 3: Hoteles en Madrid ===
2025-12-10 10:01:44.238 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.238 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.239 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": "35660"}, {"$or": [{"calificacionEstrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.286 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.776 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a94"}, "idHotel": "h128", "nombre": "Hotel Dunas Doradas", "estrellas": 5, "admiteMascotas": true, "fechaApertura": "2016-06-07", "ubicacion": {"calle": "Avenida Arena", "numero": 2, "codigoPostal": "35660", "coordenadas": {"lat": 28.73, "lon": -13.87}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 340, "capacidad": 3, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 165, "capacidad": 2, "disponible": true}, {"tipo": "INDIVIDUAL", "precio": 100, "capacidad": 1, "disponible": false}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357301, "i": 3}}}
2025-12-10 10:01:44.286 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.286 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.287 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 1
2025-12-10 10:01:44.290 [main] INFO  Controllers.GestionaHoteles - - Hotel Dunas Doradas (CP: 35660, Estrellas: 5, Mascotas: true)
2025-12-10 10:01:44.290 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: Número de hoteles con Suite Junior ===
2025-12-10 10:01:44.290 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.290 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.291 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {"habitaciones": {"$elemMatch": {"tipo": "SUITEJUNIOR", "disponible": true}}}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.341 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 48.9002 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "ca ...
2025-12-10 10:01:44.342 [main] DEBUG org.mongodb.driver.operation - Received batch of 31 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.342 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.343 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 31
2025-12-10 10:01:44.343 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Añadir Penthouse al hotel h101 ===
2025-12-10 10:01:44.348 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.349 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.356 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:01:44.408 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 52.6188 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357301, "i": 4}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357301, "i": 4}}}
2025-12-10 10:01:44.411 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.411 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente al hotel h101.
2025-12-10 10:01:44.412 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.412 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.412 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.459 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.4661 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timest ...
2025-12-10 10:01:44.460 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.460 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.461 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 10:01:44.462 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:01:44.462 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:01:44.462 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:01:44.462 [main] INFO  Controllers.GestionaHoteles -   - Penthouse: 500.0€
2025-12-10 10:01:44.462 [main] INFO  Controllers.GestionaHoteles -   - Penthouse: 500.0€
2025-12-10 10:01:44.462 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Actualizar código postal de Gran Vía a 28013 ===
2025-12-10 10:01:44.463 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.463 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.463 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:01:44.464 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Avenida Sierra"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:01:44.519 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 54.5288 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357301, "i": 5}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357301, "i": 5}}}
2025-12-10 10:01:44.519 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.519 [main] INFO  Controllers.GestionaHoteles - Códigos postales de hoteles en Gran Vía actualizados a 28013.
2025-12-10 10:01:44.520 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.520 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.521 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.567 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.7185 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timest ...
2025-12-10 10:01:44.567 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.567 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.568 [main] INFO  Controllers.GestionaHoteles - Nuevo código postal de Grand Hotel Central: 08003
2025-12-10 10:01:44.568 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Actualizar precio de habitación Individual en h101 ===
2025-12-10 10:01:44.568 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.568 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.570 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}, "updates": [{"q": {"$and": [{"habitaciones.tipo": "INDIVIDUAL"}, {"idHotel": "h101"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:01:44.616 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 47.4304 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357301, "i": 5}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357301, "i": 5}}}
2025-12-10 10:01:44.617 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.617 [main] INFO  Controllers.GestionaHoteles - Precio de habitación Individual en h101 actualizado a 90.00€.
2025-12-10 10:01:44.617 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.617 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.618 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.666 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 47.7124 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timest ...
2025-12-10 10:01:44.667 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.667 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.667 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Eliminar habitaciones > 300€ en Grand Hotel Central ===
2025-12-10 10:01:44.667 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.668 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.668 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:01:44.718 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 49.621 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357301, "i": 6}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357301, "i": 6}}}
2025-12-10 10:01:44.718 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:01:44.718 [main] INFO  Controllers.GestionaHoteles - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 10:01:44.719 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.719 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:01:44.719 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "x9QwIGfuSi6lt8VAxqRNQA==", "subType": "04"}}}}
2025-12-10 10:01:44.765 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.0775 ms using a connection with driver-generated ID 7 and server-generated ID 425221 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357301, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "2lE96uwmA1Vyaa9QT4FDrzQSU+o=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357301, "i": 6}}}
2025-12-10 10:01:44.766 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:01:44.766 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:45.664 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:02:45.882 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:02:45.887 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:02:45.891 [main] INFO  Controllers.GestionaHoteles - === INICIO DE LA GESTIÓN DE HOTELES ===
2025-12-10 10:02:45.891 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:02:45.911 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:02:49.918 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:02:49.930 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:02:49.936 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:02:49.939 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:02:49.939 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:02:49.940 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:02:49.941 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:02:50.474 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=323524100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:02:45 CET 2025, lastUpdateTimeNanos=74274724937400}
2025-12-10 10:02:50.474 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=246167100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:02:45 CET 2025, lastUpdateTimeNanos=74274724937300}
2025-12-10 10:02:50.474 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=323533700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:02:45 CET 2025, lastUpdateTimeNanos=74274724937300}
2025-12-10 10:02:50.477 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:50.479 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=246.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:02:50.480 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:50.480 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:50.480 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=246.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=323.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:02:50.480 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:50.480 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:50.481 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:02:50.481 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=246.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=323.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=323.5 ms, state=CONNECTED}]
2025-12-10 10:02:50.481 [cluster-ClusterId{value='69393735e12168040e009f7d', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:50.484 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:50.492 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:50.861 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=368 ms
2025-12-10 10:02:50.863 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=376 ms
2025-12-10 10:02:50.871 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:50.996 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 118.3746 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:02:51.001 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.002 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:02:51.007 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:02:51.008 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:02:51.009 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:02:51.010 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel con ID h101 ---
2025-12-10 10:02:51.010 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.011 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.012 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357365, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "0a+DPUM/KU/Tm9DplSMABUQ9SdY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:51.083 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 70.1326 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357365, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "0a+DPUM/KU/Tm9DplSMABUQ9SdY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357365, "i": 2}}}
2025-12-10 10:02:51.083 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.083 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.084 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:02:51.084 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 3: Hoteles en Madrid ===
2025-12-10 10:02:51.084 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.084 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.085 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": "35660"}, {"$or": [{"calificacionEstrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357365, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "0a+DPUM/KU/Tm9DplSMABUQ9SdY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:51.151 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 64.8459 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a94"}, "idHotel": "h128", "nombre": "Hotel Dunas Doradas", "estrellas": 5, "admiteMascotas": true, "fechaApertura": "2016-06-07", "ubicacion": {"calle": "Avenida Arena", "numero": 2, "codigoPostal": "35660", "coordenadas": {"lat": 28.73, "lon": -13.87}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 340, "capacidad": 3, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 165, "capacidad": 2, "disponible": true}, {"tipo": "INDIVIDUAL", "precio": 100, "capacidad": 1, "disponible": false}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357365, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "0a+DPUM/KU/Tm9DplSMABUQ9SdY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357365, "i": 2}}}
2025-12-10 10:02:51.151 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.151 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.152 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 1
2025-12-10 10:02:51.154 [main] INFO  Controllers.GestionaHoteles - - Hotel Dunas Doradas (CP: 35660, Estrellas: 5, Mascotas: true)
2025-12-10 10:02:51.154 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: Número de hoteles con Suite Junior ===
2025-12-10 10:02:51.154 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.155 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.155 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {"habitaciones": {"$elemMatch": {"tipo": "SUITEJUNIOR", "disponible": true}}}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357365, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "0a+DPUM/KU/Tm9DplSMABUQ9SdY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:51.225 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 67.8732 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:02:51.226 [main] DEBUG org.mongodb.driver.operation - Received batch of 31 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.226 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.226 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 31
2025-12-10 10:02:51.226 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Añadir Penthouse al hotel h101 ===
2025-12-10 10:02:51.231 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.232 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.239 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357365, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "0a+DPUM/KU/Tm9DplSMABUQ9SdY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:02:51.318 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 80.0224 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357368, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357368, "i": 1}}}
2025-12-10 10:02:51.320 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.321 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente al hotel h101.
2025-12-10 10:02:51.321 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.321 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.322 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:51.390 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 67.5941 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357368, "i": 1}}}
2025-12-10 10:02:51.390 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.391 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.391 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 10:02:51.392 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:02:51.392 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:02:51.392 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:02:51.392 [main] INFO  Controllers.GestionaHoteles -   - Penthouse: 500.0€
2025-12-10 10:02:51.392 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Actualizar código postal de Gran Vía a 28013 ===
2025-12-10 10:02:51.393 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.393 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.393 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:02:51.394 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Avenida Sierra"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:02:51.467 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 74.1018 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357368, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357368, "i": 1}}}
2025-12-10 10:02:51.469 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.469 [main] INFO  Controllers.GestionaHoteles - Códigos postales de hoteles en Gran Vía actualizados a 28013.
2025-12-10 10:02:51.469 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.469 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.470 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:51.538 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 67.9462 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357368, "i": 2}}}
2025-12-10 10:02:51.539 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.539 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.539 [main] INFO  Controllers.GestionaHoteles - Nuevo código postal de Grand Hotel Central: 08003
2025-12-10 10:02:51.539 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Actualizar precio de habitación Individual en h101 ===
2025-12-10 10:02:51.539 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.540 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.541 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}, "updates": [{"q": {"$and": [{"habitaciones.tipo": "INDIVIDUAL"}, {"idHotel": "h101"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:02:51.610 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 69.1738 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357368, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357368, "i": 2}}}
2025-12-10 10:02:51.610 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.610 [main] INFO  Controllers.GestionaHoteles - Precio de habitación Individual en h101 actualizado a 90.00€.
2025-12-10 10:02:51.611 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.611 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.611 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:51.672 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 60.28 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357368, "i": 2}}}
2025-12-10 10:02:51.672 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.672 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.673 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Eliminar habitaciones > 300€ en Grand Hotel Central ===
2025-12-10 10:02:51.673 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Calcular media de estrellas en Barcelona ===
2025-12-10 10:02:51.673 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.673 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.674 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"ubicacion.codigoPostal": "08001"}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:51.745 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 70.4148 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357368, "i": 2}}}
2025-12-10 10:02:51.745 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.745 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.746 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 0,00
2025-12-10 10:02:51.746 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ del Grand Hotel Central ===
2025-12-10 10:02:51.746 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.746 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.747 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357368, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xWStDzDwAfTUCg2a28qx0Ih5Avg=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:02:51.818 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 70.4528 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357369, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357369, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "2AjZQNQ+NMm/aseeHSWghE3YlPw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357369, "i": 1}}}
2025-12-10 10:02:51.818 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:02:51.818 [main] INFO  Controllers.GestionaHoteles - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 10:02:51.819 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:51.819 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:02:51.819 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357369, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "2AjZQNQ+NMm/aseeHSWghE3YlPw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "YQGIvl2KSimdRFp+jcXYcg==", "subType": "04"}}}}
2025-12-10 10:02:52.092 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 272.5804 ms using a connection with driver-generated ID 7 and server-generated ID 425271 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357369, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "2AjZQNQ+NMm/aseeHSWghE3YlPw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357369, "i": 2}}}
2025-12-10 10:02:52.092 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:02:52.093 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:08.094 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:04:08.271 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:04:08.278 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:04:08.279 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:04:08.284 [main] INFO  Controllers.GestionaHoteles - === INICIO DE LA GESTIÓN DE HOTELES ===
2025-12-10 10:04:08.284 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:04:08.296 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:04:08.304 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:04:08.306 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:04:08.307 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:04:08.308 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:04:08.309 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:04:08.310 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:04:08.776 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=284619600, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:04:02 CET 2025, lastUpdateTimeNanos=74353030858000}
2025-12-10 10:04:08.776 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=278765800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:04:02 CET 2025, lastUpdateTimeNanos=74353026944300}
2025-12-10 10:04:08.776 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=205795700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:04:02 CET 2025, lastUpdateTimeNanos=74353026933600}
2025-12-10 10:04:08.778 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:08.781 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=284.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:04:08.781 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:08.781 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:08.782 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=205.8 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=284.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:04:08.782 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:08.782 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:08.783 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:04:08.783 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=205.8 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=284.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=278.8 ms, state=CONNECTED}]
2025-12-10 10:04:08.783 [cluster-ClusterId{value='69393788211e7f6590c19ba8', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:08.785 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:08.788 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.094 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=305 ms
2025-12-10 10:04:09.096 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=310 ms
2025-12-10 10:04:09.105 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.216 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 106.3958 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:04:09.223 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.224 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.229 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:04:09.230 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:04:09.231 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:04:09.232 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:04:09.233 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:04:09.233 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:04:09.233 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:04:09.233 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel con ID h101 ---
2025-12-10 10:04:09.233 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.233 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.235 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357442, "i": 15}}, "signature": {"hash": {"$binary": {"base64": "EHQvCtJtEd1u9faztQCIQvUG6y4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.290 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 53.7322 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357442, "i": 15}}, "signature": {"hash": {"$binary": {"base64": "EHQvCtJtEd1u9faztQCIQvUG6y4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357442, "i": 15}}}
2025-12-10 10:04:09.290 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.290 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.291 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:04:09.291 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 3: Hoteles en Madrid ===
2025-12-10 10:04:09.291 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.291 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.292 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": "35660"}, {"$or": [{"calificacionEstrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357442, "i": 15}}, "signature": {"hash": {"$binary": {"base64": "EHQvCtJtEd1u9faztQCIQvUG6y4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.346 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 53.6227 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a94"}, "idHotel": "h128", "nombre": "Hotel Dunas Doradas", "estrellas": 5, "admiteMascotas": true, "fechaApertura": "2016-06-07", "ubicacion": {"calle": "Avenida Arena", "numero": 2, "codigoPostal": "35660", "coordenadas": {"lat": 28.73, "lon": -13.87}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 340, "capacidad": 3, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 165, "capacidad": 2, "disponible": true}, {"tipo": "INDIVIDUAL", "precio": 100, "capacidad": 1, "disponible": false}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357442, "i": 15}}, "signature": {"hash": {"$binary": {"base64": "EHQvCtJtEd1u9faztQCIQvUG6y4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357442, "i": 15}}}
2025-12-10 10:04:09.347 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.347 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.347 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 1
2025-12-10 10:04:09.350 [main] INFO  Controllers.GestionaHoteles - - Hotel Dunas Doradas (CP: 35660, Estrellas: 5, Mascotas: true)
2025-12-10 10:04:09.350 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: Número de hoteles con Suite Junior ===
2025-12-10 10:04:09.350 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.350 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.351 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {"habitaciones": {"$elemMatch": {"tipo": "SUITEJUNIOR", "disponible": true}}}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357442, "i": 15}}, "signature": {"hash": {"$binary": {"base64": "EHQvCtJtEd1u9faztQCIQvUG6y4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.407 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 54.3822 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:04:09.408 [main] DEBUG org.mongodb.driver.operation - Received batch of 31 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.408 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.408 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 31
2025-12-10 10:04:09.408 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Añadir Penthouse al hotel h101 ===
2025-12-10 10:04:09.414 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.414 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.422 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357442, "i": 15}}, "signature": {"hash": {"$binary": {"base64": "EHQvCtJtEd1u9faztQCIQvUG6y4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:04:09.479 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 58.2308 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357446, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357446, "i": 1}}}
2025-12-10 10:04:09.482 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.483 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente al hotel h101.
2025-12-10 10:04:09.483 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.483 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.484 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.537 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 52.8378 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357446, "i": 1}}}
2025-12-10 10:04:09.537 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.537 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.537 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 10:04:09.538 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:04:09.539 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:04:09.539 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:04:09.539 [main] INFO  Controllers.GestionaHoteles -   - Penthouse: 500.0€
2025-12-10 10:04:09.539 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Actualizar código postal de Gran Vía a 28013 ===
2025-12-10 10:04:09.540 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.540 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.540 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:04:09.541 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Avenida Sierra"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:04:09.599 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 58.5656 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357446, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357446, "i": 1}}}
2025-12-10 10:04:09.600 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.600 [main] INFO  Controllers.GestionaHoteles - Códigos postales de hoteles en Gran Vía actualizados a 28013.
2025-12-10 10:04:09.600 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.600 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.601 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.654 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 53.2284 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357446, "i": 1}}}
2025-12-10 10:04:09.655 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.655 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.655 [main] INFO  Controllers.GestionaHoteles - Nuevo código postal de Grand Hotel Central: 08003
2025-12-10 10:04:09.656 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Actualizar precio de habitación Individual en h101 ===
2025-12-10 10:04:09.656 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.656 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.657 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}, "updates": [{"q": {"$and": [{"habitaciones.tipo": "INDIVIDUAL"}, {"idHotel": "h101"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:04:09.711 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 53.7968 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357446, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357446, "i": 1}}}
2025-12-10 10:04:09.711 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.712 [main] INFO  Controllers.GestionaHoteles - Precio de habitación Individual en h101 actualizado a 90.00€.
2025-12-10 10:04:09.712 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.712 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.713 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.766 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 52.8902 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357446, "i": 1}}}
2025-12-10 10:04:09.766 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.766 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.767 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Eliminar habitaciones > 300€ en Grand Hotel Central ===
2025-12-10 10:04:09.767 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Calcular media de estrellas en Barcelona ===
2025-12-10 10:04:09.767 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.767 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.767 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"ubicacion.codigoPostal": "08001"}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.820 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 52.6377 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357446, "i": 1}}}
2025-12-10 10:04:09.821 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.821 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.821 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 0,00
2025-12-10 10:04:09.821 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ del Grand Hotel Central ===
2025-12-10 10:04:09.822 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.822 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.823 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357446, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "9pG1s63gLFeUnKa56HFJirobwvY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:04:09.878 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 55.8693 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357447, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357447, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "SigG0RvwMJiYOek9yH/uxhGyM9M=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357447, "i": 1}}}
2025-12-10 10:04:09.879 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.879 [main] INFO  Controllers.GestionaHoteles - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 10:04:09.879 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.879 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.880 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357447, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "SigG0RvwMJiYOek9yH/uxhGyM9M=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.933 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 52.4613 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357447, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "SigG0RvwMJiYOek9yH/uxhGyM9M=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357447, "i": 1}}}
2025-12-10 10:04:09.933 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.933 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.934 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Calcular media de estrellas en Barcelona ===
2025-12-10 10:04:09.934 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.934 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:04:09.935 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 26 and the operation ID is 23. Command: {"find": "hoteles", "filter": {"ubicacion.codigoPostal": "08001"}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357447, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "SigG0RvwMJiYOek9yH/uxhGyM9M=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "yyTZVclJR9KL647Hrs8b2A==", "subType": "04"}}}}
2025-12-10 10:04:09.988 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 53.1254 ms using a connection with driver-generated ID 7 and server-generated ID 425282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 26 and the operation ID is 23. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357447, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "SigG0RvwMJiYOek9yH/uxhGyM9M=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357447, "i": 1}}}
2025-12-10 10:04:09.988 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:04:09.988 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:04:09.988 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 0,00
2025-12-10 10:04:09.988 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 10:08:21.004 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:08:21.215 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:08:21.220 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:08:21.224 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 10:08:21.224 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:08:21.242 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:08:21.248 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:08:21.255 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:08:21.262 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:08:21.263 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:08:21.264 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:08:21.265 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:08:21.266 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:08:21.728 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=267220500, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:08:18 CET 2025, lastUpdateTimeNanos=74605979012200}
2025-12-10 10:08:21.728 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239565200, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:08:18 CET 2025, lastUpdateTimeNanos=74605979012300}
2025-12-10 10:08:21.728 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=288403200, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:08:18 CET 2025, lastUpdateTimeNanos=74605979012200}
2025-12-10 10:08:21.731 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:21.734 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=267.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:08:21.735 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:21.735 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:21.735 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:08:21.735 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=267.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=288.4 ms, state=CONNECTED}]
2025-12-10 10:08:21.736 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:21.736 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:21.736 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=239.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=267.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=288.4 ms, state=CONNECTED}]
2025-12-10 10:08:21.736 [cluster-ClusterId{value='69393885b1368211f98ad8a1', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:21.738 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:21.743 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.020 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=276 ms
2025-12-10 10:08:22.022 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=282 ms
2025-12-10 10:08:22.031 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.138 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 99.3948 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:08:22.144 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.145 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.152 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:08:22.153 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:08:22.154 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:08:22.155 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:08:22.156 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:08:22.156 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-10 10:08:22.156 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.156 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.158 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357698, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "7/Z8Ats8GB+yVI/WFLbpp4lQZyc=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.210 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 51.8583 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357698, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "7/Z8Ats8GB+yVI/WFLbpp4lQZyc=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357698, "i": 2}}}
2025-12-10 10:08:22.211 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.211 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.212 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:08:22.212 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-10 10:08:22.212 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.212 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.214 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357698, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "7/Z8Ats8GB+yVI/WFLbpp4lQZyc=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.269 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 54.6007 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 10:08:22.269 [main] DEBUG org.mongodb.driver.operation - Received batch of 3 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.270 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.270 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 3
2025-12-10 10:08:22.273 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 10:08:22.273 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 10:08:22.273 [main] INFO  Controllers.GestionaHoteles - - Hotel Sierra Blanca (CP: 28013, Estrellas: 4, Mascotas: true)
2025-12-10 10:08:22.273 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-10 10:08:22.274 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.274 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.275 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357698, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "7/Z8Ats8GB+yVI/WFLbpp4lQZyc=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.328 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 52.4578 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:08:22.329 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.329 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.330 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 40
2025-12-10 10:08:22.330 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-10 10:08:22.335 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.336 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.344 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357698, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "7/Z8Ats8GB+yVI/WFLbpp4lQZyc=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:08:22.404 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 62.4226 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357699, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 1}}}
2025-12-10 10:08:22.406 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.407 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-10 10:08:22.407 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.408 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.408 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.458 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.5049 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 1}}}
2025-12-10 10:08:22.458 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.458 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.458 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 10:08:22.460 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:08:22.460 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 120.0€
2025-12-10 10:08:22.460 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:08:22.460 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 500.0€
2025-12-10 10:08:22.460 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-10 10:08:22.461 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.461 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.461 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:08:22.462 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:08:22.518 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 55.6288 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357699, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 1}}}
2025-12-10 10:08:22.518 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.518 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-10 10:08:22.519 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-10 10:08:22.519 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.519 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.521 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:08:22.571 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 51.1276 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357699, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 1}}}
2025-12-10 10:08:22.572 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.572 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-10 10:08:22.572 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.572 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.573 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.624 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.8752 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 1}}}
2025-12-10 10:08:22.624 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.624 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.625 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-10 10:08:22.625 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.625 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.626 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:08:22.692 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 65.9636 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357699, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 2}}}
2025-12-10 10:08:22.693 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.693 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-10 10:08:22.693 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.693 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.694 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.753 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 58.6781 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 2}}}
2025-12-10 10:08:22.753 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.753 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.754 [main] INFO  Controllers.GestionaHoteles - Habitaciones restantes en h101:
2025-12-10 10:08:22.754 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:08:22.754 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 120.0€
2025-12-10 10:08:22.754 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:08:22.754 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-10 10:08:22.758 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.758 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:08:22.759 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "NQpYduv6QWWecr94bQLfzw==", "subType": "04"}}}}
2025-12-10 10:08:22.808 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 49.8628 ms using a connection with driver-generated ID 7 and server-generated ID 425328 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357699, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "8a+Gzrhd6O9+pLG0fcbFapdeuBA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357699, "i": 2}}}
2025-12-10 10:08:22.809 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:08:22.809 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:08:22.809 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 10:08:22.809 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 10:13:03.092 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:13:03.275 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:13:03.284 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:13:03.284 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:13:03.288 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 10:13:03.288 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:13:03.302 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:13:03.310 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:13:03.312 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:13:03.313 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:13:03.314 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:13:03.315 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:13:03.317 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:13:03.781 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=277290300, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:12:58 CET 2025, lastUpdateTimeNanos=74888031745300}
2025-12-10 10:13:03.781 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=277294300, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:12:58 CET 2025, lastUpdateTimeNanos=74888031745300}
2025-12-10 10:13:03.781 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=250295900, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:12:58 CET 2025, lastUpdateTimeNanos=74888031745200}
2025-12-10 10:13:03.784 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:03.787 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=250.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:13:03.788 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:03.788 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:03.788 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:13:03.788 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=250.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=277.3 ms, state=CONNECTED}]
2025-12-10 10:13:03.789 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:03.789 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:03.789 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=250.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=277.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=277.3 ms, state=CONNECTED}]
2025-12-10 10:13:03.789 [cluster-ClusterId{value='6939399fcbbf43277e6c18a2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:03.792 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:03.796 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.076 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=278 ms
2025-12-10 10:13:04.077 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=283 ms
2025-12-10 10:13:04.087 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.190 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 98.172 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:13:04.197 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.198 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.204 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:13:04.204 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:13:04.205 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:13:04.206 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:13:04.207 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:13:04.208 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-10 10:13:04.209 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.209 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.211 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357978, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DfkPGme+gKYJQdPOefv3TZcqnEY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.261 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.2359 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357978, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DfkPGme+gKYJQdPOefv3TZcqnEY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357978, "i": 1}}}
2025-12-10 10:13:04.262 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.262 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.263 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:13:04.263 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-10 10:13:04.263 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.263 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.265 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357978, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DfkPGme+gKYJQdPOefv3TZcqnEY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.314 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.7546 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 10:13:04.315 [main] DEBUG org.mongodb.driver.operation - Received batch of 3 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.315 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.315 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 3
2025-12-10 10:13:04.318 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 10:13:04.318 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 10:13:04.318 [main] INFO  Controllers.GestionaHoteles - - Hotel Sierra Blanca (CP: 28013, Estrellas: 4, Mascotas: true)
2025-12-10 10:13:04.318 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-10 10:13:04.318 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.318 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.319 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357978, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DfkPGme+gKYJQdPOefv3TZcqnEY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.371 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 50.6817 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:13:04.372 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.372 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.373 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 40
2025-12-10 10:13:04.373 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-10 10:13:04.379 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.379 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.386 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357978, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DfkPGme+gKYJQdPOefv3TZcqnEY=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:13:04.445 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 59.4896 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357981, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 1}}}
2025-12-10 10:13:04.447 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.448 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-10 10:13:04.448 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.448 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.449 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.497 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 48.2659 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 1}}}
2025-12-10 10:13:04.497 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.498 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.498 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 10:13:04.499 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:13:04.499 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:13:04.499 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:13:04.500 [main] INFO  Controllers.GestionaHoteles -   - Penthouse: 500.0€
2025-12-10 10:13:04.500 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-10 10:13:04.501 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.501 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.501 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:13:04.502 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:13:04.558 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 55.1994 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357981, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 1}}}
2025-12-10 10:13:04.558 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.558 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-10 10:13:04.559 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-10 10:13:04.559 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.559 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.561 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:13:04.609 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 49.6909 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357981, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 1}}}
2025-12-10 10:13:04.610 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.610 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-10 10:13:04.610 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.611 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.611 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.660 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 48.8809 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 1}}}
2025-12-10 10:13:04.661 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.661 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.661 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-10 10:13:04.661 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.661 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.662 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:13:04.715 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 51.4804 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765357981, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 2}}}
2025-12-10 10:13:04.715 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.715 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-10 10:13:04.716 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.716 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.716 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.765 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 48.6553 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 2}}}
2025-12-10 10:13:04.766 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.766 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.766 [main] INFO  Controllers.GestionaHoteles - Habitaciones restantes en h101:
2025-12-10 10:13:04.766 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:13:04.766 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:13:04.766 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:13:04.766 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-10 10:13:04.771 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.771 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:13:04.772 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "DaRVR5UNQT2HNtVJiDbWGw==", "subType": "04"}}}}
2025-12-10 10:13:04.822 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 50.1759 ms using a connection with driver-generated ID 7 and server-generated ID 425364 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765357981, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "bomQISBkcq8IW1Q9mu6UEdIOiTo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765357981, "i": 2}}}
2025-12-10 10:13:04.822 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:13:04.822 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:13:04.823 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 10:13:04.823 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 10:21:24.275 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:21:24.475 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:21:24.480 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:21:24.484 [main] INFO  Controllers.GestionaPocoAPoco - === INICIO DE LAS PRUEBAS ===
2025-12-10 10:21:24.484 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 1: Listado de todos los hoteles ---
2025-12-10 10:21:24.503 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:21:24.505 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:21:24.515 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:21:24.522 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:21:24.523 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:21:24.524 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:21:24.525 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:21:24.526 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:21:24.976 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=286156800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:21:22 CET 2025, lastUpdateTimeNanos=75389228461100}
2025-12-10 10:21:24.976 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=271388200, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:21:22 CET 2025, lastUpdateTimeNanos=75389228461100}
2025-12-10 10:21:24.976 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=232997600, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:21:22 CET 2025, lastUpdateTimeNanos=75389228461100}
2025-12-10 10:21:24.979 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:24.980 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:21:24.982 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=271.4 ms, state=CONNECTED}]
2025-12-10 10:21:24.982 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:24.982 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:24.982 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=286.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=271.4 ms, state=CONNECTED}]
2025-12-10 10:21:24.983 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:24.983 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:24.983 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=233.0 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=286.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=271.4 ms, state=CONNECTED}]
2025-12-10 10:21:24.983 [cluster-ClusterId{value='69393b9439efee0c57b219c5', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:24.984 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:24.989 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.270 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=281 ms
2025-12-10 10:21:25.271 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=286 ms
2025-12-10 10:21:25.280 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:25.386 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 98.635 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:21:25.392 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.393 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.397 [main] INFO  Controllers.GestionaPocoAPoco - Total de hoteles encontrados: 40
2025-12-10 10:21:25.399 [main] INFO  Controllers.GestionaPocoAPoco - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:21:25.399 [main] INFO  Controllers.GestionaPocoAPoco - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:21:25.399 [main] INFO  Controllers.GestionaPocoAPoco - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:21:25.399 [main] INFO  Controllers.GestionaPocoAPoco - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:21:25.399 [main] INFO  Controllers.GestionaPocoAPoco - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:21:25.399 [main] INFO  Controllers.GestionaPocoAPoco - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:21:25.399 [main] INFO  Controllers.GestionaPocoAPoco - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:21:25.400 [main] INFO  Controllers.GestionaPocoAPoco - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:21:25.401 [main] INFO  Controllers.GestionaPocoAPoco - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:21:25.402 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 2: Buscar hotel por ID (h101) ---
2025-12-10 10:21:25.403 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.403 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.405 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:25.454 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.0493 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358482, "i": 2}}}
2025-12-10 10:21:25.455 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.455 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.455 [main] INFO  Controllers.GestionaPocoAPoco - Hotel encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:21:25.455 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 3: Hoteles en Madrid ---
2025-12-10 10:21:25.456 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.456 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.458 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:25.508 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.9488 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 10:21:25.508 [main] DEBUG org.mongodb.driver.operation - Received batch of 3 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.508 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.509 [main] INFO  Controllers.GestionaPocoAPoco - Hoteles encontrados en Madrid: 3
2025-12-10 10:21:25.511 [main] INFO  Controllers.GestionaPocoAPoco - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 10:21:25.512 [main] INFO  Controllers.GestionaPocoAPoco - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 10:21:25.512 [main] INFO  Controllers.GestionaPocoAPoco - - Hotel Sierra Blanca (CP: 28013, Estrellas: 4, Mascotas: true)
2025-12-10 10:21:25.512 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 4: Hoteles con Suite Junior ---
2025-12-10 10:21:25.512 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.512 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.513 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:25.565 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 51.175 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:21:25.566 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.566 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.567 [main] INFO  Controllers.GestionaPocoAPoco - Número de hoteles con Suite Junior: 40
2025-12-10 10:21:25.567 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 5: Añadir Penthouse al hotel h101 ---
2025-12-10 10:21:25.572 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.573 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.579 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:21:25.644 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 65.5252 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765358482, "i": 3}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358482, "i": 3}}}
2025-12-10 10:21:25.646 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.647 [main] INFO  Controllers.GestionaPocoAPoco - Penthouse añadida correctamente al hotel h101.
2025-12-10 10:21:25.647 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.647 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.648 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:25.698 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.1041 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358482, "i": 3}}}
2025-12-10 10:21:25.698 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.698 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.698 [main] INFO  Controllers.GestionaPocoAPoco - Habitaciones actuales en h101:
2025-12-10 10:21:25.700 [main] INFO  Controllers.GestionaPocoAPoco -   - SUITEJUNIOR: 250.5€
2025-12-10 10:21:25.700 [main] INFO  Controllers.GestionaPocoAPoco -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:21:25.700 [main] INFO  Controllers.GestionaPocoAPoco -   - INDIVIDUAL: 90.0€
2025-12-10 10:21:25.700 [main] INFO  Controllers.GestionaPocoAPoco -   - Penthouse: 500.0€
2025-12-10 10:21:25.700 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 6: Actualizar código postal de Gran Vía a 28013 ---
2025-12-10 10:21:25.701 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.701 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.702 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:21:25.703 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:21:25.757 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 54.9722 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765358482, "i": 3}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358482, "i": 3}}}
2025-12-10 10:21:25.758 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.758 [main] INFO  Controllers.GestionaPocoAPoco - Códigos postales de los hoteles en Gran Vía actualizados a 28013.
2025-12-10 10:21:25.758 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.758 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.759 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:25.809 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.33 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358482, "i": 3}}}
2025-12-10 10:21:25.810 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.810 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.811 [main] INFO  Controllers.GestionaPocoAPoco - Nuevo código postal de Grand Hotel Central: 08003
2025-12-10 10:21:25.811 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 7: Actualizar precio de habitación Individual en h101 ---
2025-12-10 10:21:25.811 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.811 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.812 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:21:25.862 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 50.4482 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765358482, "i": 3}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358482, "i": 3}}}
2025-12-10 10:21:25.863 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.863 [main] INFO  Controllers.GestionaPocoAPoco - Precio actualizado de la habitación Individual a 90.00€.
2025-12-10 10:21:25.863 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.863 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.864 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:25.914 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.8604 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358482, "i": 3}}}
2025-12-10 10:21:25.915 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.915 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.915 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 8: Eliminar habitaciones > 300€ en Grand Hotel Central ---
2025-12-10 10:21:25.915 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.916 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.916 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358482, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "ensVO0eTBGwKFmwt75Arw2NLXio=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:21:25.970 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 52.9917 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765358483, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358483, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "kCylzfUggnwNG8WPeVWCh516250=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358483, "i": 1}}}
2025-12-10 10:21:25.971 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:25.971 [main] INFO  Controllers.GestionaPocoAPoco - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 10:21:25.971 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:25.971 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:25.972 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358483, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "kCylzfUggnwNG8WPeVWCh516250=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:26.021 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 49.0269 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358483, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "kCylzfUggnwNG8WPeVWCh516250=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358483, "i": 1}}}
2025-12-10 10:21:26.021 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:26.021 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:26.021 [main] ERROR Controllers.GestionaPocoAPoco - No se pudo encontrar el hotel 'Grand Hotel Central'.
2025-12-10 10:21:26.021 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 9: Calcular media de estrellas en Barcelona ---
2025-12-10 10:21:26.026 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:26.026 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:21:26.027 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358483, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "kCylzfUggnwNG8WPeVWCh516250=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "s7uSVfeZRIGJ1f0oBrWNuA==", "subType": "04"}}}}
2025-12-10 10:21:26.077 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 50.3611 ms using a connection with driver-generated ID 7 and server-generated ID 425534 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765358483, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "kCylzfUggnwNG8WPeVWCh516250=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765358483, "i": 1}}}
2025-12-10 10:21:26.078 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:21:26.078 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:21:26.079 [main] INFO  Controllers.GestionaPocoAPoco - Media de estrellas en Barcelona: 5,00
2025-12-10 10:21:26.079 [main] INFO  Controllers.GestionaPocoAPoco - === FIN DE LAS PRUEBAS ===
2025-12-10 10:39:08.644 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:39:08.824 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:39:08.829 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:39:42.536 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:39:42.699 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:39:42.700 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:39:42.706 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:39:42.713 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 10:39:42.713 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:39:42.719 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:39:42.730 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:39:42.731 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:39:42.732 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:39:42.733 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:39:42.734 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:39:42.739 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-10 10:39:43.195 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=272864900, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:39:39 CET 2025, lastUpdateTimeNanos=76487450986900}
2025-12-10 10:39:43.195 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=233484900, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:39:39 CET 2025, lastUpdateTimeNanos=76487451620500}
2025-12-10 10:39:43.203 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.203 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239311500, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:39:39 CET 2025, lastUpdateTimeNanos=76487454606100}
2025-12-10 10:39:43.206 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=233.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:39:43.207 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.207 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.207 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:39:43.208 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=233.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=272.9 ms, state=CONNECTED}]
2025-12-10 10:39:43.208 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.208 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.208 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=233.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=239.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=272.9 ms, state=CONNECTED}]
2025-12-10 10:39:43.209 [cluster-ClusterId{value='69393fde98cd1d5113b2a6d2', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.210 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.214 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:39:43.559 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=344 ms
2025-12-10 10:39:43.560 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=349 ms
2025-12-10 10:39:43.570 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425776 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 12 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "wzumHKwIR5mmvaaQbLmCiA==", "subType": "04"}}}}
2025-12-10 10:39:43.696 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 120.5631 ms using a connection with driver-generated ID 7 and server-generated ID 425776 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 12 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:39:43.702 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:39:43.703 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:40:42.775 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:40:44.446 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@517d4a0d, com.mongodb.Jep395RecordCodecProvider@7862f56, com.mongodb.KotlinCodecProvider@3a12c404]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:40:44.451 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:40:44.454 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-10 10:40:44.455 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:40:44.474 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:40:44.507 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:40:44.518 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:40:44.525 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:40:44.527 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:40:44.527 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:40:44.529 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:40:44.529 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:40:44.978 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=279914700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:40:42 CET 2025, lastUpdateTimeNanos=76549240138200}
2025-12-10 10:40:44.980 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:40:44.981 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:40:44.983 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=279.9 ms, state=CONNECTED}]
2025-12-10 10:40:44.983 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:40:44.985 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:40:44.996 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:40:54.682 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:84) ~[mongodb-driver-core-4.11.1.jar:?]
	at java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:84) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:196) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:156) ~[mongodb-driver-core-4.11.1.jar:?]
	at java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.net.SocketTimeoutException: Connect timed out
	at sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546) ~[?:?]
	at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[?:?]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[?:?]
	at java.net.Socket.connect(Socket.java:751) ~[?:?]
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304) ~[?:?]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78) ~[mongodb-driver-core-4.11.1.jar:?]
	... 4 more
2025-12-10 10:40:54.691 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=279.9 ms, state=CONNECTED}]
2025-12-10 10:40:54.711 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:84) ~[mongodb-driver-core-4.11.1.jar:?]
	at java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:84) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:196) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:156) ~[mongodb-driver-core-4.11.1.jar:?]
	at java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.net.SocketTimeoutException: Connect timed out
	at sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546) ~[?:?]
	at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[?:?]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[?:?]
	at java.net.Socket.connect(Socket.java:751) ~[?:?]
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304) ~[?:?]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78) ~[mongodb-driver-core-4.11.1.jar:?]
	... 4 more
2025-12-10 10:40:54.712 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=279.9 ms, state=CONNECTED}]
2025-12-10 10:40:55.008 [main] DEBUG org.mongodb.driver.connection - Connection closed: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7. Reason: An error occurred while using the connection. Error: There was a socket exception raised by this connection
2025-12-10 10:40:55.009 [main] DEBUG org.mongodb.driver.connection - Checkout failed for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. Reason: An error occurred while trying to establish a new connection. Error: com.mongodb.MongoSocketOpenException: Exception opening socket. Duration: 10022 ms
2025-12-10 10:40:55.010 [main] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]
2025-12-10 10:40:55.011 [main] DEBUG org.mongodb.driver.connection - Connection pool for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 cleared
2025-12-10 10:40:55.014 [main] DEBUG org.mongodb.driver.operation - Retrying the operation with operation ID 1 due to the error "com.mongodb.MongoSocketOpenException: Exception opening socket". Attempt number: #2
2025-12-10 10:40:55.014 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]}. Waiting for 30000 ms before timing out
2025-12-10 10:41:05.203 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]
2025-12-10 10:41:05.213 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]
2025-12-10 10:41:05.516 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:84) ~[mongodb-driver-core-4.11.1.jar:?]
	at java.util.Optional.orElseThrow(Optional.java:403) ~[?:?]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:84) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:196) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:156) ~[mongodb-driver-core-4.11.1.jar:?]
	at java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.net.SocketTimeoutException: Connect timed out
	at sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546) ~[?:?]
	at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[?:?]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[?:?]
	at java.net.Socket.connect(Socket.java:751) ~[?:?]
	at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304) ~[?:?]
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104) ~[mongodb-driver-core-4.11.1.jar:?]
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78) ~[mongodb-driver-core-4.11.1.jar:?]
	... 4 more
2025-12-10 10:41:05.517 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}]
2025-12-10 10:41:06.228 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=194250800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:41:02 CET 2025, lastUpdateTimeNanos=76570498178600}
2025-12-10 10:41:06.229 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.229 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:41:06.230 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=194.3 ms, state=CONNECTED}]
2025-12-10 10:41:06.230 [cluster-ClusterId{value='6939401c9055b723ad793786', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.230 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.230 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:06.587 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, established in=356 ms
2025-12-10 10:41:06.588 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=357 ms
2025-12-10 10:41:06.596 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 12 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359660, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "5qYJVeSEttNjdxBrsDAtylKX0as=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:06.707 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 104.2788 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 12 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:41:06.714 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.715 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:06.720 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:41:06.720 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:41:06.720 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:41:06.721 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:41:06.722 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:41:06.723 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:41:06.724 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:41:06.724 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:41:06.724 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:41:06.724 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:41:06.724 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-10 10:41:06.725 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.725 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:06.726 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359663, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "0EdJeVLrac24TSlPtiqENny6tvU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:06.789 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 61.9185 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359663, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "0EdJeVLrac24TSlPtiqENny6tvU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359663, "i": 1}}}
2025-12-10 10:41:06.790 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.790 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:06.791 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:41:06.791 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-10 10:41:06.791 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.791 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:06.793 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359663, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "0EdJeVLrac24TSlPtiqENny6tvU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:06.856 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 62.6181 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 10:41:06.857 [main] DEBUG org.mongodb.driver.operation - Received batch of 3 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.857 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:06.857 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 3
2025-12-10 10:41:06.860 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 10:41:06.860 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 10:41:06.860 [main] INFO  Controllers.GestionaHoteles - - Hotel Sierra Blanca (CP: 28013, Estrellas: 4, Mascotas: true)
2025-12-10 10:41:06.860 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-10 10:41:06.860 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.861 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:06.862 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359663, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "0EdJeVLrac24TSlPtiqENny6tvU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:06.929 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 66.2902 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:41:06.930 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.930 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:06.931 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 0
2025-12-10 10:41:06.931 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-10 10:41:06.936 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:06.936 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:06.944 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 15. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359663, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "0EdJeVLrac24TSlPtiqENny6tvU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:41:07.017 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 74.713 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 15. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359664, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 1}}}
2025-12-10 10:41:07.019 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.020 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-10 10:41:07.020 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.020 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:07.021 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 16. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:07.087 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 65.6687 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 16. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 1}}}
2025-12-10 10:41:07.088 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.088 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.088 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 10:41:07.090 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:41:07.090 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:41:07.090 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:41:07.090 [main] INFO  Controllers.GestionaHoteles -   - Penthouse: 500.0€
2025-12-10 10:41:07.090 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-10 10:41:07.091 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.092 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:07.092 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:41:07.093 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:41:07.147 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 54.4086 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 17. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359664, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 1}}}
2025-12-10 10:41:07.147 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.147 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-10 10:41:07.147 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-10 10:41:07.148 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.148 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:07.149 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:41:07.204 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 54.9569 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359664, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 1}}}
2025-12-10 10:41:07.204 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.205 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-10 10:41:07.205 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.205 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:07.205 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:07.263 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 57.4358 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 1}}}
2025-12-10 10:41:07.264 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.264 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.264 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-10 10:41:07.264 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.264 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:07.265 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 20. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:41:07.329 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 62.9742 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 20. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359664, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 2}}}
2025-12-10 10:41:07.330 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.330 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-10 10:41:07.330 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.331 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:07.331 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 21. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:07.393 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 61.1548 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 2}}}
2025-12-10 10:41:07.393 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.394 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.394 [main] INFO  Controllers.GestionaHoteles - Habitaciones restantes en h101:
2025-12-10 10:41:07.394 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:41:07.394 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:41:07.394 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:41:07.394 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-10 10:41:07.398 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.398 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16, duration=0 ms
2025-12-10 10:41:07.399 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 22. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "SrCqzehyRlyRldB9nDQ84A==", "subType": "04"}}}}
2025-12-10 10:41:07.462 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 62.725 ms using a connection with driver-generated ID 16 and server-generated ID 425796 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 22. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 2}}}
2025-12-10 10:41:07.462 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:07.462 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=16
2025-12-10 10:41:07.462 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 10:41:07.463 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 10:41:13.002 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 10:41:13.178 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 10:41:13.188 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 10:41:13.188 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:41:13.192 [main] INFO  Controllers.GestionaHoteles - === INICIO DE LA GESTIÓN DE HOTELES ===
2025-12-10 10:41:13.192 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-10 10:41:13.204 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:41:13.212 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:41:13.214 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:41:13.215 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 10:41:13.216 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 10:41:13.216 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 10:41:13.217 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:41:13.630 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=291159100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 10:41:04 CET 2025, lastUpdateTimeNanos=76577889053100}
2025-12-10 10:41:13.630 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=236283300, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 10:41:04 CET 2025, lastUpdateTimeNanos=76577889053200}
2025-12-10 10:41:13.631 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:13.634 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=236.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 10:41:13.634 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:13.634 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:13.635 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 10:41:13.635 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=236.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=291.2 ms, state=CONNECTED}]
2025-12-10 10:41:13.635 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:13.643 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:13.646 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.007 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=360 ms
2025-12-10 10:41:14.008 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=365 ms
2025-12-10 10:41:14.017 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 8 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.123 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 99.8107 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 8 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:41:14.129 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.130 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.137 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 10:41:14.138 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 10:41:14.139 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 10:41:14.140 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 10:41:14.141 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 10:41:14.141 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 10:41:14.141 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 10:41:14.141 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 10:41:14.141 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 10:41:14.141 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel con ID h101 ---
2025-12-10 10:41:14.141 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.141 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.143 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 10 and the operation ID is 8. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.200 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 57.543 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 10 and the operation ID is 8. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359664, "i": 2}}}
2025-12-10 10:41:14.201 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.201 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.202 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-10 10:41:14.202 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 3: Hoteles en Madrid ===
2025-12-10 10:41:14.202 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.202 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.203 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 11 and the operation ID is 9. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.267 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 62.5306 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 11 and the operation ID is 9. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 10:41:14.267 [main] DEBUG org.mongodb.driver.operation - Received batch of 3 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.268 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.268 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 3
2025-12-10 10:41:14.271 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 10:41:14.271 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 10:41:14.271 [main] INFO  Controllers.GestionaHoteles - - Hotel Sierra Blanca (CP: 28013, Estrellas: 4, Mascotas: true)
2025-12-10 10:41:14.271 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: Número de hoteles con Suite Junior ===
2025-12-10 10:41:14.271 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.271 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.272 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 12 and the operation ID is 10. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.339 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 65.4328 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 12 and the operation ID is 10. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 10:41:14.340 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.340 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.341 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 0
2025-12-10 10:41:14.341 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Añadir Penthouse al hotel h101 ===
2025-12-10 10:41:14.346 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.346 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.354 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 11. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359664, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "xCeZu9QfRcH0hJVA14sZ7usg44k=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 10:41:14.356 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239430200, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 10:41:04 CET 2025, lastUpdateTimeNanos=76578626158400}
2025-12-10 10:41:14.357 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.357 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=236.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=239.4 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=291.2 ms, state=CONNECTED}]
2025-12-10 10:41:14.357 [cluster-ClusterId{value='69394039663e73533f1ebf5c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.423 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 70.1596 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 11. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359671, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359671, "i": 1}}}
2025-12-10 10:41:14.425 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.426 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente al hotel h101.
2025-12-10 10:41:14.426 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.426 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.427 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.494 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 66.5618 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359671, "i": 1}}}
2025-12-10 10:41:14.494 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.494 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.494 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-10 10:41:14.496 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-10 10:41:14.496 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 10:41:14.496 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-10 10:41:14.497 [main] INFO  Controllers.GestionaHoteles -   - Penthouse: 500.0€
2025-12-10 10:41:14.497 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Actualizar código postal de Gran Vía a 28013 ===
2025-12-10 10:41:14.498 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.498 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.498 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 10:41:14.499 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 10:41:14.572 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 73.5875 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359671, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359671, "i": 1}}}
2025-12-10 10:41:14.573 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.573 [main] INFO  Controllers.GestionaHoteles - Códigos postales de hoteles en Gran Vía actualizados a 28013.
2025-12-10 10:41:14.573 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.574 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.574 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.629 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 54.4863 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359671, "i": 1}}}
2025-12-10 10:41:14.630 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.630 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.630 [main] INFO  Controllers.GestionaHoteles - Nuevo código postal de Grand Hotel Central: 08003
2025-12-10 10:41:14.630 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Actualizar precio de habitación Individual en h101 ===
2025-12-10 10:41:14.630 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.631 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.632 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 10:41:14.702 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 69.763 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359671, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359671, "i": 1}}}
2025-12-10 10:41:14.702 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.702 [main] INFO  Controllers.GestionaHoteles - Precio de habitación Individual en h101 actualizado a 90.00€.
2025-12-10 10:41:14.702 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.703 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.703 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.768 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 64.2423 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359671, "i": 1}}}
2025-12-10 10:41:14.768 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.768 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.769 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Eliminar habitaciones > 300€ en Grand Hotel Central ===
2025-12-10 10:41:14.769 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Calcular media de estrellas en Barcelona ===
2025-12-10 10:41:14.773 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.773 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.774 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.834 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 59.9662 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359671, "i": 1}}}
2025-12-10 10:41:14.834 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.834 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.835 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 10:41:14.835 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ del Grand Hotel Central ===
2025-12-10 10:41:14.835 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.835 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.836 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359671, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "DFfjZMfm8pg81PyyfDgulc4Pix0=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 10:41:14.900 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 63.9088 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765359672, "i": 1}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359672, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "zGyRQDXvIkLQjv6UiwUz3i12zaE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359672, "i": 1}}}
2025-12-10 10:41:14.900 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.901 [main] INFO  Controllers.GestionaHoteles - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 10:41:14.901 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.901 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.902 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359672, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "zGyRQDXvIkLQjv6UiwUz3i12zaE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:14.963 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 60.7317 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359672, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "zGyRQDXvIkLQjv6UiwUz3i12zaE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359672, "i": 1}}}
2025-12-10 10:41:14.963 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.963 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:14.963 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Calcular media de estrellas en Barcelona ===
2025-12-10 10:41:14.964 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:14.964 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 10:41:14.965 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359672, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "zGyRQDXvIkLQjv6UiwUz3i12zaE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "5XIcinfJTGGzNfif+g/A4w==", "subType": "04"}}}}
2025-12-10 10:41:15.026 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 61.3037 ms using a connection with driver-generated ID 7 and server-generated ID 425795 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765359672, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "zGyRQDXvIkLQjv6UiwUz3i12zaE=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765359672, "i": 1}}}
2025-12-10 10:41:15.027 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 10:41:15.027 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 10:41:15.027 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-10 10:41:15.027 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-10 12:12:53.769 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-10 12:12:53.972 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.7+6-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@31bcf236, com.mongodb.Jep395RecordCodecProvider@4b3ed2f0, com.mongodb.KotlinCodecProvider@4fad9bb2]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-10 12:12:53.977 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-10 12:12:53.999 [main] INFO  Controllers.GestionaPocoAPoco - === INICIO DE LAS PRUEBAS ===
2025-12-10 12:12:54.000 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 1: Listado de todos los hoteles ---
2025-12-10 12:12:54.003 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 12:12:54.017 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 12:12:54.021 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=MULTIPLE, serverDescriptions=[]}. Waiting for 30000 ms before timing out
2025-12-10 12:12:54.024 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 12:12:54.026 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 12:12:54.026 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-10 12:12:54.027 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-10 12:12:54.028 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-10 12:12:54.490 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=281676200, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Wed Dec 10 12:12:49 CET 2025, lastUpdateTimeNanos=82078739293500}
2025-12-10 12:12:54.490 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=281684000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Wed Dec 10 12:12:49 CET 2025, lastUpdateTimeNanos=82078739293700}
2025-12-10 12:12:54.490 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=233266800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Wed Dec 10 12:12:49 CET 2025, lastUpdateTimeNanos=82078739293600}
2025-12-10 12:12:54.493 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.494 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-10 12:12:54.496 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=281.7 ms, state=CONNECTED}]
2025-12-10 12:12:54.496 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.496 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.496 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=281.7 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=281.7 ms, state=CONNECTED}]
2025-12-10 12:12:54.496 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.496 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.497 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=233.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=281.7 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=281.7 ms, state=CONNECTED}]
2025-12-10 12:12:54.497 [cluster-ClusterId{value='693955b5f5a72e5c19ce6f1b', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.499 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.503 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:54.770 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=265 ms
2025-12-10 12:12:54.771 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=270 ms
2025-12-10 12:12:54.781 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:54.879 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 92.6793 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 12:12:54.884 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.885 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:54.919 [main] INFO  Controllers.GestionaPocoAPoco - Total de hoteles encontrados: 40
2025-12-10 12:12:54.922 [main] INFO  Controllers.GestionaPocoAPoco - h101 - Grand Hotel Central (5 estrellas)
2025-12-10 12:12:54.922 [main] INFO  Controllers.GestionaPocoAPoco - h102 - Hotel Costa Azul (4 estrellas)
2025-12-10 12:12:54.922 [main] INFO  Controllers.GestionaPocoAPoco - h103 - Montaña Real Resort (5 estrellas)
2025-12-10 12:12:54.922 [main] INFO  Controllers.GestionaPocoAPoco - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-10 12:12:54.922 [main] INFO  Controllers.GestionaPocoAPoco - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-10 12:12:54.922 [main] INFO  Controllers.GestionaPocoAPoco - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-10 12:12:54.922 [main] INFO  Controllers.GestionaPocoAPoco - h107 - City Hotel Norte (3 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h112 - Costa Dorada Palace (5 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h115 - Mar Azul Resort (5 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h117 - Monteverde Lodge (4 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-10 12:12:54.923 [main] INFO  Controllers.GestionaPocoAPoco - h119 - Hotel Alameda Real (5 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h126 - Monte Claro Hotel (3 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-10 12:12:54.924 [main] INFO  Controllers.GestionaPocoAPoco - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h132 - Hotel Faro Marino (4 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-10 12:12:54.925 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 2: Buscar hotel por ID (h101) ---
2025-12-10 12:12:54.926 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.926 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:54.927 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365169, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "yeKRmJZ5SC3baXYYQgRXYzIFah4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:54.973 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.648 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365169, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "yeKRmJZ5SC3baXYYQgRXYzIFah4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365169, "i": 3}}}
2025-12-10 12:12:54.974 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.974 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:54.974 [main] INFO  Controllers.GestionaPocoAPoco - Hotel encontrado: Grand Hotel Central - Via Laietana
2025-12-10 12:12:54.975 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 3: Hoteles en Madrid ---
2025-12-10 12:12:54.975 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:54.975 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:54.977 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365169, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "yeKRmJZ5SC3baXYYQgRXYzIFah4=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:55.022 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.8418 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-10 12:12:55.023 [main] DEBUG org.mongodb.driver.operation - Received batch of 3 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.023 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.023 [main] INFO  Controllers.GestionaPocoAPoco - Hoteles encontrados en Madrid: 3
2025-12-10 12:12:55.026 [main] INFO  Controllers.GestionaPocoAPoco - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-10 12:12:55.026 [main] INFO  Controllers.GestionaPocoAPoco - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-10 12:12:55.026 [main] INFO  Controllers.GestionaPocoAPoco - - Hotel Sierra Blanca (CP: 28013, Estrellas: 4, Mascotas: true)
2025-12-10 12:12:55.026 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 4: Hoteles con Suite Junior ---
2025-12-10 12:12:55.026 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.026 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.027 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:55.076 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 47.1527 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-10 12:12:55.077 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.077 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.077 [main] INFO  Controllers.GestionaPocoAPoco - Número de hoteles con Suite Junior: 0
2025-12-10 12:12:55.077 [main] WARN  Controllers.GestionaPocoAPoco - No se encontraron hoteles con Suite Junior.
2025-12-10 12:12:55.077 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 5: Añadir Penthouse al hotel h101 ---
2025-12-10 12:12:55.084 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.084 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.092 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-10 12:12:55.147 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 56.1129 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765365172, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 2}}}
2025-12-10 12:12:55.149 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.150 [main] INFO  Controllers.GestionaPocoAPoco - Penthouse añadida correctamente al hotel h101.
2025-12-10 12:12:55.150 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.150 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.151 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:55.196 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.0276 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 2}}}
2025-12-10 12:12:55.196 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.196 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.197 [main] INFO  Controllers.GestionaPocoAPoco - Habitaciones actuales en h101:
2025-12-10 12:12:55.198 [main] INFO  Controllers.GestionaPocoAPoco -   - SUITEJUNIOR: 250.5€
2025-12-10 12:12:55.198 [main] INFO  Controllers.GestionaPocoAPoco -   - DOBLEESTÁNDAR: 120.0€
2025-12-10 12:12:55.198 [main] INFO  Controllers.GestionaPocoAPoco -   - INDIVIDUAL: 90.0€
2025-12-10 12:12:55.198 [main] INFO  Controllers.GestionaPocoAPoco -   - Penthouse: 500.0€
2025-12-10 12:12:55.198 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 6: Actualizar código postal de Gran Vía a 28013 ---
2025-12-10 12:12:55.199 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.199 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.199 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-10 12:12:55.201 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-10 12:12:55.256 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 54.7563 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765365172, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 2}}}
2025-12-10 12:12:55.256 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.256 [main] INFO  Controllers.GestionaPocoAPoco - Códigos postales de los hoteles en Gran Vía actualizados a 28013.
2025-12-10 12:12:55.257 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.257 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.257 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:55.303 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.2517 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 2}}}
2025-12-10 12:12:55.303 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.303 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.304 [main] INFO  Controllers.GestionaPocoAPoco - Nuevo código postal de Grand Hotel Central: 08003
2025-12-10 12:12:55.304 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 7: Actualizar precio de habitación Individual en h101 ---
2025-12-10 12:12:55.304 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.304 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.306 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-10 12:12:55.351 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 45.8661 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765365172, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 2}}}
2025-12-10 12:12:55.352 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.352 [main] INFO  Controllers.GestionaPocoAPoco - Precio actualizado de la habitación Individual a 90.00€.
2025-12-10 12:12:55.352 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.352 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.353 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:55.399 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.0264 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "Penthouse", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 2}}}
2025-12-10 12:12:55.399 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.399 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.399 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 8: Eliminar habitaciones > 300€ en Grand Hotel Central ---
2025-12-10 12:12:55.400 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.400 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.401 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-10 12:12:55.448 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 48.2109 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765365172, "i": 3}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 3}}}
2025-12-10 12:12:55.449 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.449 [main] INFO  Controllers.GestionaPocoAPoco - Habitaciones con precio superior a 300€ eliminadas en Grand Hotel Central.
2025-12-10 12:12:55.449 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.450 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.450 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"find": "hoteles", "filter": {"idHotel": "Grand Hotel Central"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:55.496 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 45.0258 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 4}}}
2025-12-10 12:12:55.496 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.496 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.496 [main] ERROR Controllers.GestionaPocoAPoco - No se pudo encontrar el hotel 'Grand Hotel Central'.
2025-12-10 12:12:55.497 [main] INFO  Controllers.GestionaPocoAPoco - --- EJERCICIO 9: Calcular media de estrellas en Barcelona ---
2025-12-10 12:12:55.501 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.502 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-10 12:12:55.503 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "H/rgf5odTSecCmm1La1AHg==", "subType": "04"}}}}
2025-12-10 12:12:55.548 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 45.4047 ms using a connection with driver-generated ID 7 and server-generated ID 427131 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 25 and the operation ID is 22. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765365172, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "86uwbrdQHtRnmmiAkFtEIuuUpoU=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765365172, "i": 4}}}
2025-12-10 12:12:55.549 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-10 12:12:55.549 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-10 12:12:55.549 [main] INFO  Controllers.GestionaPocoAPoco - Media de estrellas en Barcelona: 5,00
2025-12-10 12:12:55.549 [main] INFO  Controllers.GestionaPocoAPoco - === FIN DE LAS PRUEBAS ===
