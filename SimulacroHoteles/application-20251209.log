2025-12-09 17:59:09.522 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 17:59:09.947 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 17:59:09.951 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4982cc36, com.mongodb.Jep395RecordCodecProvider@691939c9, com.mongodb.KotlinCodecProvider@4f1bfe23]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 17:59:09.961 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: CoachX
2025-12-09 17:59:09.974 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 17:59:09.974 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 17:59:09.975 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 17:59:09.990 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 17:59:09.992 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 17:59:09.993 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 17:59:09.997 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 17:59:09.998 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 17:59:10.011 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 17:59:10.676 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=417833900, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 17:59:09 CET 2025, lastUpdateTimeNanos=500216779516400}
2025-12-09 17:59:10.676 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=417911900, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 17:59:09 CET 2025, lastUpdateTimeNanos=500216779516400}
2025-12-09 17:59:10.679 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=417345700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 17:59:09 CET 2025, lastUpdateTimeNanos=500216779554100}
2025-12-09 17:59:10.681 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:10.685 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 17:59:10.686 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=417.8 ms, state=CONNECTED}]
2025-12-09 17:59:10.688 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:10.688 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:10.689 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=417.9 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=417.8 ms, state=CONNECTED}]
2025-12-09 17:59:10.689 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:10.689 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:10.691 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=417.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=417.9 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=417.8 ms, state=CONNECTED}]
2025-12-09 17:59:10.691 [cluster-ClusterId{value='6938555dbc089f2e360ed053', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:10.692 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:10.698 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.003 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=304 ms
2025-12-09 17:59:11.004 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=309 ms
2025-12-09 17:59:11.037 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.088 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 52.0292 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.091 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.092 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.093 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-09 17:59:11.095 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.096 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.097 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.144 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.5743 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.146 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.146 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.146 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-09 17:59:11.147 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.147 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.149 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.196 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.8314 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.196 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.196 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.197 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 0
2025-12-09 17:59:11.197 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-09 17:59:11.197 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.197 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.198 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.245 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.1433 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.246 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.246 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.246 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 0
2025-12-09 17:59:11.246 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-09 17:59:11.270 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.270 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.286 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-09 17:59:11.339 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 54.4361 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765299550, "i": 3}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.342 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.343 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-09 17:59:11.343 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.343 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.343 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.392 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.6368 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.392 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.392 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.392 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-09 17:59:11.394 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.394 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.394 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-09 17:59:11.397 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-09 17:59:11.449 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 52.9448 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765299550, "i": 3}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.450 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.450 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-09 17:59:11.450 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-09 17:59:11.450 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.450 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.451 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "habitaciones.tipo": "Individual"}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-09 17:59:11.498 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 47.9867 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765299550, "i": 3}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.499 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.499 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-09 17:59:11.499 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.499 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.500 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.547 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.2937 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.547 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.549 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.549 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-09 17:59:11.549 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.549 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.550 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-09 17:59:11.597 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 47.5813 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765299550, "i": 3}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.598 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.598 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-09 17:59:11.598 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.598 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.599 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.646 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.1907 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.647 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.647 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.647 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-09 17:59:11.652 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.652 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 17:59:11.654 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "qw/pyDmMTuSFoXFNjJ9e3g==", "subType": "04"}}}}
2025-12-09 17:59:11.701 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "CoachX" in 47.434 ms using a connection with driver-generated ID 7 and server-generated ID 412282 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765299550, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "jAOQ9S5pE/oBVDLWOuuQxcmge3c=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765299550, "i": 3}}}
2025-12-09 17:59:11.702 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 17:59:11.702 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 17:59:11.702 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 0,00
2025-12-09 17:59:11.702 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-09 18:08:57.429 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 18:08:57.675 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:08:57.676 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4982cc36, com.mongodb.Jep395RecordCodecProvider@691939c9, com.mongodb.KotlinCodecProvider@4f1bfe23]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 18:08:57.684 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: CoachX
2025-12-09 18:08:57.699 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:08:57.710 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 18:08:57.710 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 18:08:57.713 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:08:57.716 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:08:57.718 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:08:57.720 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:08:57.722 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 18:08:57.743 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 18:08:58.277 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=321228400, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 18:08:56 CET 2025, lastUpdateTimeNanos=500804375857200}
2025-12-09 18:08:58.277 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=321738200, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 18:08:56 CET 2025, lastUpdateTimeNanos=500804375620400}
2025-12-09 18:08:58.279 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=319691000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 18:08:56 CET 2025, lastUpdateTimeNanos=500804375710200}
2025-12-09 18:08:58.281 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.283 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 18:08:58.284 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=321.7 ms, state=CONNECTED}]
2025-12-09 18:08:58.285 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.285 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.285 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=319.7 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=321.7 ms, state=CONNECTED}]
2025-12-09 18:08:58.286 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.286 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.287 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=321.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=319.7 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=321.7 ms, state=CONNECTED}]
2025-12-09 18:08:58.289 [cluster-ClusterId{value='693857a96693297b59ef5331', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.289 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.297 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:58.582 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=284 ms
2025-12-09 18:08:58.583 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=292 ms
2025-12-09 18:08:58.594 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:58.648 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 51.298 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:58.651 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.652 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:58.654 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-09 18:08:58.655 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.656 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:58.657 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:58.719 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 62.1214 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:58.720 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.720 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:58.721 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-09 18:08:58.721 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.721 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:58.723 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:58.769 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.5286 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:58.770 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.770 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:58.770 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 0
2025-12-09 18:08:58.770 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-09 18:08:58.771 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.771 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:58.772 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:58.818 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.0807 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:58.820 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.820 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:58.820 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 0
2025-12-09 18:08:58.820 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-09 18:08:58.828 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.828 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:58.843 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-09 18:08:58.895 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 54.4642 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300136, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:58.898 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:58.899 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-09 18:08:58.900 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.900 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:58.901 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:58.947 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.3482 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:58.947 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.949 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:58.949 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-09 18:08:58.949 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:58.949 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:58.950 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-09 18:08:58.950 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-09 18:08:59.013 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 62.7509 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300136, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:59.013 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:59.013 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-09 18:08:59.014 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-09 18:08:59.014 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.014 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:59.015 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "habitaciones.tipo": "Individual"}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-09 18:08:59.062 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 47.6975 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300136, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:59.062 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:59.062 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-09 18:08:59.064 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.064 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:59.064 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:59.112 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.3507 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:59.113 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.113 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:59.113 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-09 18:08:59.113 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.113 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:59.114 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-09 18:08:59.161 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 47.7376 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300136, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:59.162 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:59.162 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-09 18:08:59.162 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.162 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:59.164 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:59.210 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.1562 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:59.211 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.211 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:59.211 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-09 18:08:59.216 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.217 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:08:59.218 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "mNJ0dZ+WRjeS50mlsu5Mjg==", "subType": "04"}}}}
2025-12-09 18:08:59.266 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "CoachX" in 47.3113 ms using a connection with driver-generated ID 7 and server-generated ID 412426 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300136, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cvBnSLY9XSXO9ueI/5oRiP6pD+E=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300136, "i": 2}}}
2025-12-09 18:08:59.266 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:08:59.266 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:08:59.267 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 0,00
2025-12-09 18:08:59.267 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-09 18:19:12.017 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 18:19:12.244 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:19:12.268 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:19:12.269 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@38831718, com.mongodb.Jep395RecordCodecProvider@2c1156a7, com.mongodb.KotlinCodecProvider@33fe57a9]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 18:19:12.278 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: CoachX
2025-12-09 18:19:12.284 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:19:12.287 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:19:12.287 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:19:12.287 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 18:19:12.288 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 18:19:12.291 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:19:12.292 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 18:19:12.320 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 18:19:12.819 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=315564800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 18:19:09 CET 2025, lastUpdateTimeNanos=501418920215900}
2025-12-09 18:19:12.819 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=310265700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 18:19:09 CET 2025, lastUpdateTimeNanos=501418920080800}
2025-12-09 18:19:12.819 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=315499400, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 18:19:09 CET 2025, lastUpdateTimeNanos=501418920193800}
2025-12-09 18:19:12.821 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:12.825 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=315.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 18:19:12.826 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:12.826 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:12.827 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 18:19:12.827 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=315.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=315.5 ms, state=CONNECTED}]
2025-12-09 18:19:12.827 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:12.827 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:12.828 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=315.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=310.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=315.5 ms, state=CONNECTED}]
2025-12-09 18:19:12.828 [cluster-ClusterId{value='69385a101711997ec64e005c', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:12.830 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:12.835 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.135 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=299 ms
2025-12-09 18:19:13.136 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=304 ms
2025-12-09 18:19:13.147 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.202 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 51.826 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300749, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "idAkRYWcb8brM+f1UtuTHMKlzfA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300749, "i": 1}}}
2025-12-09 18:19:13.204 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.206 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.207 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-09 18:19:13.208 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.208 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.211 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300749, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "idAkRYWcb8brM+f1UtuTHMKlzfA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.258 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.8551 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300749, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "idAkRYWcb8brM+f1UtuTHMKlzfA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300749, "i": 1}}}
2025-12-09 18:19:13.258 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.258 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.259 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-09 18:19:13.259 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.260 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.262 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300749, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "idAkRYWcb8brM+f1UtuTHMKlzfA=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.309 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.6459 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.310 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.310 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.310 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 0
2025-12-09 18:19:13.310 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-09 18:19:13.311 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.311 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.312 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.360 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.6464 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.360 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.360 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.360 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 0
2025-12-09 18:19:13.360 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-09 18:19:13.368 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.368 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.385 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-09 18:19:13.437 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 54.8308 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300752, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.442 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.445 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-09 18:19:13.445 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.445 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.446 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.493 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.207 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.493 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.493 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.493 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-09 18:19:13.494 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.494 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.494 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-09 18:19:13.496 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-09 18:19:13.548 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 52.8792 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300752, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.549 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.549 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-09 18:19:13.549 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-09 18:19:13.549 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.549 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.550 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "habitaciones.tipo": "Individual"}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-09 18:19:13.597 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 47.736 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300752, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.598 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.598 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-09 18:19:13.598 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.598 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.599 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.646 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 46.7501 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.647 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.647 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.647 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-09 18:19:13.647 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.647 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.648 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-09 18:19:13.696 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 47.9548 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765300752, "i": 1}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.697 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.697 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-09 18:19:13.697 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.697 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.698 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.745 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.0558 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 1}}}
2025-12-09 18:19:13.746 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.746 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.746 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-09 18:19:13.754 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.754 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 18:19:13.755 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "czQV76ZjRJC08jVy9FbBUw==", "subType": "04"}}}}
2025-12-09 18:19:13.802 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "CoachX" in 47.6323 ms using a connection with driver-generated ID 7 and server-generated ID 412551 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765300752, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "jLi6HAo/YdIn2sFMcOVquvEyJx8=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765300752, "i": 2}}}
2025-12-09 18:19:13.802 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:19:13.802 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:19:13.804 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 0,00
2025-12-09 18:19:13.804 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-09 18:31:57.183 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 18:31:57.421 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:31:57.423 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4982cc36, com.mongodb.Jep395RecordCodecProvider@691939c9, com.mongodb.KotlinCodecProvider@4f1bfe23]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 18:31:57.431 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-09 18:31:57.439 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:31:57.451 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:31:57.453 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:31:57.453 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:31:57.454 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 18:31:57.454 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 18:31:57.455 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:31:57.456 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 18:31:57.480 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 18:31:57.998 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=319538500, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 18:31:56 CET 2025, lastUpdateTimeNanos=502184101438300}
2025-12-09 18:31:57.999 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=314270100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 18:31:56 CET 2025, lastUpdateTimeNanos=502184101306400}
2025-12-09 18:31:57.999 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=315003700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 18:31:56 CET 2025, lastUpdateTimeNanos=502184101306500}
2025-12-09 18:31:58.004 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.010 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 18:31:58.012 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=314.3 ms, state=CONNECTED}]
2025-12-09 18:31:58.012 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.012 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.012 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=315.0 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=314.3 ms, state=CONNECTED}]
2025-12-09 18:31:58.013 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.013 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.013 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=315.0 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=319.5 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=314.3 ms, state=CONNECTED}]
2025-12-09 18:31:58.014 [cluster-ClusterId{value='69385d0d8c67bc67615e88ed', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.015 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.019 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:31:58.306 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=285 ms
2025-12-09 18:31:58.307 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=290 ms
2025-12-09 18:31:58.318 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 412724 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "Q3a9eDKkRVu1gKym2Vk+Vw==", "subType": "04"}}}}
2025-12-09 18:31:58.424 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 98.2276 ms using a connection with driver-generated ID 7 and server-generated ID 412724 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 85, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, "ca ...
2025-12-09 18:31:58.431 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:31:58.433 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:33:37.961 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 18:33:38.199 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:33:38.203 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@2c1156a7, com.mongodb.Jep395RecordCodecProvider@33fe57a9, com.mongodb.KotlinCodecProvider@4982cc36]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 18:33:38.211 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-09 18:33:38.221 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:33:38.234 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:33:38.236 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:33:38.238 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 18:33:38.238 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 18:33:38.238 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 18:33:38.240 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 18:33:38.241 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 18:33:38.266 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 18:33:38.820 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=342635600, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 18:33:35 CET 2025, lastUpdateTimeNanos=502284919694300}
2025-12-09 18:33:38.820 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=342493000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 18:33:35 CET 2025, lastUpdateTimeNanos=502284919694300}
2025-12-09 18:33:38.820 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=342313000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 18:33:35 CET 2025, lastUpdateTimeNanos=502284919694300}
2025-12-09 18:33:38.823 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:38.828 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=342.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 18:33:38.828 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:38.828 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:38.828 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 18:33:38.829 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=342.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=342.5 ms, state=CONNECTED}]
2025-12-09 18:33:38.829 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:38.829 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:38.830 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=342.6 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=342.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=342.5 ms, state=CONNECTED}]
2025-12-09 18:33:38.831 [cluster-ClusterId{value='69385d7213ca8e028c13e8ec', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:38.834 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:38.841 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 18:33:39.129 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=286 ms
2025-12-09 18:33:39.130 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=292 ms
2025-12-09 18:33:39.141 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 412718 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "TJjrNVTKRtu35vQ+2WuNUQ==", "subType": "04"}}}}
2025-12-09 18:33:39.243 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 93.9685 ms using a connection with driver-generated ID 7 and server-generated ID 412718 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 85, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, "ca ...
2025-12-09 18:33:39.250 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 18:33:39.251 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:29.069 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 22:42:29.323 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:42:29.325 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4982cc36, com.mongodb.Jep395RecordCodecProvider@691939c9, com.mongodb.KotlinCodecProvider@4f1bfe23]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 22:42:29.334 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: CoachX
2025-12-09 22:42:29.343 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:42:29.355 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:42:29.358 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:42:29.359 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:42:29.361 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:42:29.363 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 22:42:29.368 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 22:42:29.368 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 22:42:29.392 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 22:42:29.927 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=326809100, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 22:42:29 CET 2025, lastUpdateTimeNanos=517224120140700}
2025-12-09 22:42:29.927 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=325666900, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 22:42:29 CET 2025, lastUpdateTimeNanos=517224119870000}
2025-12-09 22:42:29.929 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:29.927 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=324081700, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 22:42:29 CET 2025, lastUpdateTimeNanos=517224119870100}
2025-12-09 22:42:29.931 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 22:42:29.933 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=326.8 ms, state=CONNECTED}]
2025-12-09 22:42:29.934 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:29.934 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:29.935 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=325.7 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=326.8 ms, state=CONNECTED}]
2025-12-09 22:42:29.936 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:29.937 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:29.937 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=325.7 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=324.1 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=326.8 ms, state=CONNECTED}]
2025-12-09 22:42:29.938 [cluster-ClusterId{value='693897c59ce1d679f21ad55f', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:29.939 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:29.947 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.235 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=286 ms
2025-12-09 22:42:30.236 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=295 ms
2025-12-09 22:42:30.247 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.301 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 52.5976 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 2}}}
2025-12-09 22:42:30.303 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.305 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.306 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-09 22:42:30.306 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.307 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.308 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.356 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.7228 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 4}}}
2025-12-09 22:42:30.357 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.357 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.357 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-09 22:42:30.358 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.358 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.360 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.408 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 48.3405 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 8}}}
2025-12-09 22:42:30.409 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.409 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.409 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 0
2025-12-09 22:42:30.409 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-09 22:42:30.409 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.410 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.410 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 10}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.458 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.7303 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 12}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 12}}}
2025-12-09 22:42:30.458 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.458 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.459 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 0
2025-12-09 22:42:30.459 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-09 22:42:30.465 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.465 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.481 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 12}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-09 22:42:30.535 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 55.3211 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316550, "i": 16}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 16}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 16}}}
2025-12-09 22:42:30.539 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.540 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-09 22:42:30.541 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.541 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.541 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 16}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.589 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.4856 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 20}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 20}}}
2025-12-09 22:42:30.589 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.590 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.590 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-09 22:42:30.591 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.591 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.591 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-09 22:42:30.592 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 20}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-09 22:42:30.645 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 52.7355 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316550, "i": 24}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 24}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 24}}}
2025-12-09 22:42:30.645 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.645 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-09 22:42:30.645 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-09 22:42:30.645 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.645 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.646 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 24}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "habitaciones.tipo": "Individual"}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-09 22:42:30.696 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 49.427 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316550, "i": 32}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 32}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 32}}}
2025-12-09 22:42:30.697 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.697 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-09 22:42:30.697 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.697 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.698 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 32}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.745 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 47.3019 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 34}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 34}}}
2025-12-09 22:42:30.746 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.746 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.746 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-09 22:42:30.746 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.746 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.747 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 34}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-09 22:42:30.795 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "CoachX" in 47.906 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316550, "i": 34}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 34}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 34}}}
2025-12-09 22:42:30.796 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.796 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-09 22:42:30.796 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.796 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.797 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 34}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.845 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "CoachX" in 48.3255 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 34}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 34}}}
2025-12-09 22:42:30.845 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.845 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.846 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-09 22:42:30.851 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.851 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:42:30.852 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "CoachX" using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"ubicacion.codigoPostal": {"$regex": "^08"}}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "CoachX", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 34}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ED3l6Up1SOewu28A2Vl2nA==", "subType": "04"}}}}
2025-12-09 22:42:30.901 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "CoachX" in 47.8104 ms using a connection with driver-generated ID 7 and server-generated ID 416921 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [], "id": 0, "ns": "CoachX.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316550, "i": 34}}, "signature": {"hash": {"$binary": {"base64": "IirQ5P9rJGU5s5gcUz/ifAT+KOw=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316550, "i": 34}}}
2025-12-09 22:42:30.901 [main] DEBUG org.mongodb.driver.operation - Received batch of 0 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:42:30.902 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:42:30.902 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 0,00
2025-12-09 22:42:30.902 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-09 22:44:13.443 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 22:44:13.684 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:44:13.684 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4982cc36, com.mongodb.Jep395RecordCodecProvider@691939c9, com.mongodb.KotlinCodecProvider@4f1bfe23]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 22:44:13.695 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-09 22:44:13.704 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 22:44:13.705 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 22:44:13.708 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:44:13.723 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:44:13.725 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:44:13.726 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:44:13.728 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:44:13.730 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 22:44:13.740 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 22:44:14.269 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=317332000, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 22:44:12 CET 2025, lastUpdateTimeNanos=517328464532400}
2025-12-09 22:44:14.270 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=322538500, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 22:44:12 CET 2025, lastUpdateTimeNanos=517328464663000}
2025-12-09 22:44:14.274 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=317178200, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 22:44:12 CET 2025, lastUpdateTimeNanos=517328464544300}
2025-12-09 22:44:14.275 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.280 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 22:44:14.280 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.280 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.280 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 22:44:14.281 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=322.5 ms, state=CONNECTED}]
2025-12-09 22:44:14.281 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.281 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.281 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.2 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=322.5 ms, state=CONNECTED}]
2025-12-09 22:44:14.282 [cluster-ClusterId{value='6938982db7fc183350ea90d4', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.285 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.292 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:44:14.578 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=285 ms
2025-12-09 22:44:14.578 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=292 ms
2025-12-09 22:44:14.589 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416920 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "9WE2d5cbTFCbUTHMz97y0Q==", "subType": "04"}}}}
2025-12-09 22:44:14.696 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 98.8372 ms using a connection with driver-generated ID 7 and server-generated ID 416920 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 85, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, "ca ...
2025-12-09 22:44:14.702 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:44:14.703 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:58.129 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 22:45:58.369 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4982cc36, com.mongodb.Jep395RecordCodecProvider@691939c9, com.mongodb.KotlinCodecProvider@4f1bfe23]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 22:45:58.370 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:45:58.375 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-09 22:45:58.385 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:45:58.395 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:45:58.399 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 22:45:58.399 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:45:58.399 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 22:45:58.401 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:45:58.403 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:45:58.405 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 22:45:58.437 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 22:45:58.951 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=312257600, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 22:45:55 CET 2025, lastUpdateTimeNanos=517433148284800}
2025-12-09 22:45:58.956 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=317932400, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 22:45:55 CET 2025, lastUpdateTimeNanos=517433148412400}
2025-12-09 22:45:58.955 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=313271900, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 22:45:55 CET 2025, lastUpdateTimeNanos=517433148284800}
2025-12-09 22:45:58.957 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:58.961 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=312.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 22:45:58.962 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:58.962 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:58.962 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 22:45:58.962 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=312.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.9 ms, state=CONNECTED}]
2025-12-09 22:45:58.962 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:58.964 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:58.965 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=313.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=312.3 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.9 ms, state=CONNECTED}]
2025-12-09 22:45:58.965 [cluster-ClusterId{value='693898964f273d53e9311973', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:58.966 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:58.972 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.252 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=279 ms
2025-12-09 22:45:59.253 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=285 ms
2025-12-09 22:45:59.265 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:45:59.369 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 96.0719 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 85, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, "ca ...
2025-12-09 22:45:59.376 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.378 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.387 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-09 22:45:59.387 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-09 22:45:59.388 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-09 22:45:59.389 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-09 22:45:59.390 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-09 22:45:59.391 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-09 22:45:59.392 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-09 22:45:59.392 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.393 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.395 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316758, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "dm35Aa34+MUVnZ3NEBWN7iLasek=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:45:59.444 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 47.6523 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 85, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 2}}}
2025-12-09 22:45:59.444 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.444 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.445 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-09 22:45:59.445 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-09 22:45:59.446 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.446 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.447 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:45:59.495 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 47.5567 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-09 22:45:59.495 [main] DEBUG org.mongodb.driver.operation - Received batch of 2 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.495 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.497 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 2
2025-12-09 22:45:59.501 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-09 22:45:59.501 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-09 22:45:59.501 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-09 22:45:59.502 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.502 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.502 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:45:59.552 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 47.7348 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 85, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, "ca ...
2025-12-09 22:45:59.554 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.554 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.555 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 40
2025-12-09 22:45:59.555 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-09 22:45:59.566 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.566 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.577 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-09 22:45:59.632 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 56.2299 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316759, "i": 3}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 3}}}
2025-12-09 22:45:59.634 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.636 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-09 22:45:59.636 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.637 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.637 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:45:59.684 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.414 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 85, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 3}}}
2025-12-09 22:45:59.685 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.685 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.685 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-09 22:45:59.687 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-09 22:45:59.687 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTANDAR: 120.0€
2025-12-09 22:45:59.687 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 85.0€
2025-12-09 22:45:59.687 [main] INFO  Controllers.GestionaHoteles -   - PENTHOUSE: 500.0€
2025-12-09 22:45:59.687 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-09 22:45:59.688 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.688 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.689 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-09 22:45:59.690 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-09 22:45:59.743 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 53.548 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316759, "i": 3}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 3}}}
2025-12-09 22:45:59.744 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.744 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-09 22:45:59.744 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-09 22:45:59.744 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.745 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.748 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-09 22:45:59.798 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 51.8699 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316759, "i": 4}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 4}}}
2025-12-09 22:45:59.799 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.799 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-09 22:45:59.799 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.799 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.800 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 4}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:45:59.847 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.3103 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 5}}}
2025-12-09 22:45:59.847 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.847 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.848 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-09 22:45:59.848 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.848 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.849 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 5}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-09 22:45:59.898 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 49.6126 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316759, "i": 6}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 6}}}
2025-12-09 22:45:59.899 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.899 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-09 22:45:59.899 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.899 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.900 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:45:59.946 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 46.2556 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 6}}}
2025-12-09 22:45:59.947 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.947 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:45:59.947 [main] INFO  Controllers.GestionaHoteles - Habitaciones restantes en h101:
2025-12-09 22:45:59.948 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-09 22:45:59.948 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTANDAR: 120.0€
2025-12-09 22:45:59.948 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-09 22:45:59.948 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-09 22:45:59.954 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:45:59.954 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:45:59.955 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "MOOPUgN0QZyartzoidW+qA==", "subType": "04"}}}}
2025-12-09 22:46:00.001 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 47.0943 ms using a connection with driver-generated ID 7 and server-generated ID 416976 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316759, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "DdfEbdq2QH2fq4Uy89ddaUBm4jo=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316759, "i": 6}}}
2025-12-09 22:46:00.002 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:46:00.002 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:46:00.002 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-09 22:46:00.002 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
2025-12-09 22:49:31.888 [main] DEBUG Config.Propiedades - Archivo de propiedades cargado: app.properties
2025-12-09 22:49:32.127 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:49:32.128 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Eclipse Adoptium/21.0.8+9-LTS"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='jc', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4982cc36, com.mongodb.Jep395RecordCodecProvider@691939c9, com.mongodb.KotlinCodecProvider@4f1bfe23]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=jc-cluster.ohbjl6o.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-o70bx1-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-12-09 22:49:32.138 [main] DEBUG Config.MongoDBConexion - Conectado a la base de datos: hoteles
2025-12-09 22:49:32.148 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:49:32.163 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:49:32.163 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 4: CRUD Completo ===
2025-12-09 22:49:32.163 [main] INFO  Controllers.GestionaHoteles - --- Listado de todos los hoteles ---
2025-12-09 22:49:32.167 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:49:32.168 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 to client view of cluster
2025-12-09 22:49:32.171 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.connection - Connection pool created for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017 using options maxIdleTimeMS=0, minPoolSize=0, maxPoolSize=100, maxConnecting=2, waitQueueTimeoutMS=120000
2025-12-09 22:49:32.173 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-srv-jc-cluster.ohbjl6o.mongodb.net] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 22:49:32.192 [main] INFO  org.mongodb.driver.cluster - No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out
2025-12-09 22:49:32.715 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=317058300, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cdbf63fb863652c9eebe0, counter=3}, lastWriteDate=Tue Dec 09 22:49:32 CET 2025, lastUpdateTimeNanos=517646910596700}
2025-12-09 22:49:32.716 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=321387400, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000091, setVersion=24, topologyVersion=TopologyVersion{processId=691cd9eb33b1040cd2b0b3cd, counter=6}, lastWriteDate=Tue Dec 09 22:49:32 CET 2025, lastUpdateTimeNanos=517646910714400}
2025-12-09 22:49:32.722 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=317674800, setName='atlas-o70bx1-shard-0', canonicalAddress=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, hosts=[ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017], passives=[], arbiters=[], primary='ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=24, topologyVersion=TopologyVersion{processId=691cd6d9968d58a5dede914d, counter=4}, lastWriteDate=Tue Dec 09 22:49:32 CET 2025, lastUpdateTimeNanos=517646910596700}
2025-12-09 22:49:32.722 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:32.728 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.1 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]
2025-12-09 22:49:32.728 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:32.728 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:32.728 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017 with max election id 7fffffff0000000000000091 and max set version 24
2025-12-09 22:49:32.728 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.1 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=321.4 ms, state=CONNECTED}]
2025-12-09 22:49:32.729 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:32.729 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.connection - Connection pool ready for ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:32.729 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Updating cluster description to  {type=REPLICA_SET, servers=[{address=ac-pyprurj-shard-00-01.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.1 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_SECONDARY, TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=317.7 ms, state=CONNECTED}, {address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, type=REPLICA_SET_PRIMARY, TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, roundTripTime=321.4 ms, state=CONNECTED}]
2025-12-09 22:49:32.729 [cluster-ClusterId{value='6938996cde15ce6ae9d9d1ba', description='null'}-ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017] DEBUG org.mongodb.driver.cluster - Checking status of ac-pyprurj-shard-00-00.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:32.732 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:32.736 [main] DEBUG org.mongodb.driver.connection - Connection created: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:32.994 [main] DEBUG org.mongodb.driver.connection - Connection ready: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, established in=256 ms
2025-12-09 22:49:32.995 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=261 ms
2025-12-09 22:49:33.008 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.101 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 86.6275 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 13 and the operation ID is 1. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-09 22:49:33.108 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.110 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.121 [main] INFO  Controllers.GestionaHoteles - h101 - Grand Hotel Central (5 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h102 - Hotel Costa Azul (4 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h103 - Montaña Real Resort (5 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h104 - Hotel Plaza Mayor (3 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h105 - Hotel Sol Naciente (4 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h106 - Hotel Riviera Blanca (5 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h107 - City Hotel Norte (3 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h108 - Laguna Verde Hotel (4 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h109 - Hotel Mediterráneo (5 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h110 - Sierra Nevada Lodge (4 estrellas)
2025-12-09 22:49:33.122 [main] INFO  Controllers.GestionaHoteles - h111 - Hotel Puerta del Sol (4 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h112 - Costa Dorada Palace (5 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h113 - Hotel Jardines del Valle (3 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h114 - Hotel Bosque Encantado (4 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h115 - Mar Azul Resort (5 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h116 - Hotel Ronda Antigua (3 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h117 - Monteverde Lodge (4 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h118 - Hotel Bahía Serena (4 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h119 - Hotel Alameda Real (5 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h120 - Hotel Mirador del Puerto (3 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h121 - Hotel Colina Esmeralda (4 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h122 - Hotel Costa Blanca Mar (5 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h123 - Hotel Valle Dorado (3 estrellas)
2025-12-09 22:49:33.123 [main] INFO  Controllers.GestionaHoteles - h124 - Hotel Horizonte Azul (4 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h125 - Hotel Termas del Sur (5 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h126 - Monte Claro Hotel (3 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h127 - Hotel Brisas del Norte (4 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h128 - Hotel Dunas Doradas (5 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h129 - Hotel Costa Tranquila (3 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h130 - Costa Serena Spa Hotel (4 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h131 - Hotel Vista Montaña (3 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h132 - Hotel Faro Marino (4 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h133 - Hotel Lagos del Sur (5 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h134 - Hotel Oasis Urbano (3 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h135 - Hotel Miradores del Cielo (4 estrellas)
2025-12-09 22:49:33.124 [main] INFO  Controllers.GestionaHoteles - h136 - Hotel Jardín del Mar (5 estrellas)
2025-12-09 22:49:33.125 [main] INFO  Controllers.GestionaHoteles - h137 - Hotel Camino Blanco (3 estrellas)
2025-12-09 22:49:33.125 [main] INFO  Controllers.GestionaHoteles - h138 - Hotel Mareas Altas (4 estrellas)
2025-12-09 22:49:33.125 [main] INFO  Controllers.GestionaHoteles - h139 - Hotel Oasis del Desierto (5 estrellas)
2025-12-09 22:49:33.125 [main] INFO  Controllers.GestionaHoteles - h140 - Hotel Sierra Blanca (4 estrellas)
2025-12-09 22:49:33.125 [main] INFO  Controllers.GestionaHoteles - --- Buscar hotel h101 ---
2025-12-09 22:49:33.127 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.127 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.129 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316972, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "Di9NQpE3dW9rnKI+Bnoh5Vx+GcI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.171 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 42.2691 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 14 and the operation ID is 11. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316972, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "Di9NQpE3dW9rnKI+Bnoh5Vx+GcI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316972, "i": 2}}}
2025-12-09 22:49:33.171 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.171 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.172 [main] INFO  Controllers.GestionaHoteles - Encontrado: Grand Hotel Central - Via Laietana
2025-12-09 22:49:33.172 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 5: Hoteles en Madrid ===
2025-12-09 22:49:33.172 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.173 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.174 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command: {"find": "hoteles", "filter": {"$and": [{"$or": [{"ubicacion.codigoPostal": {"$regex": "^28"}}, {"ubicacion.codigoPostal": {"$gte": 28000, "$lte": 28999}}]}, {"$or": [{"estrellas": 5}, {"admiteMascotas": true}]}]}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316972, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "Di9NQpE3dW9rnKI+Bnoh5Vx+GcI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.218 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 42.6876 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 15 and the operation ID is 12. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a7c"}, "idHotel": "h104", "nombre": "Hotel Plaza Mayor", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2010-09-15", "ubicacion": {"calle": "Plaza Mayor", "numero": 2, "codigoPostal": "28012", "coordenadas": {"lat": 40.415, "lon": -3.707}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 180, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 60, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a9a"}, "idHotel": "h134", "nombre": "Hotel Oasis Urbano", "estrellas": 3, "admiteMascotas": true, "fechaApertura": "2014-02-11", "ubicacion": {"calle": "Calle Oasis", "numero": 11, "codigoPostal": "28004", "coordenadas": {"lat": 40.42, "lon": -3.7}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 165, "capacidad": 2, "disponible": false}, {"tipo": "DOBLEESTÁNDAR", "precio": 95, "capacidad" ...
2025-12-09 22:49:33.218 [main] DEBUG org.mongodb.driver.operation - Received batch of 2 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.218 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.219 [main] INFO  Controllers.GestionaHoteles - Hoteles encontrados en Madrid: 2
2025-12-09 22:49:33.224 [main] INFO  Controllers.GestionaHoteles - - Hotel Plaza Mayor (CP: 28012, Estrellas: 3, Mascotas: true)
2025-12-09 22:49:33.225 [main] INFO  Controllers.GestionaHoteles - - Hotel Oasis Urbano (CP: 28004, Estrellas: 3, Mascotas: true)
2025-12-09 22:49:33.225 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 6: Hoteles con Suite Junior ===
2025-12-09 22:49:33.225 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.225 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.226 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command: {"find": "hoteles", "filter": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316972, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "Di9NQpE3dW9rnKI+Bnoh5Vx+GcI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.272 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 43.7285 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 16 and the operation ID is 13. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}, {"_id": {"$oid": "6937fd62bcc6a138a8cc7a7a"}, "idHotel": "h102", "nombre": "Hotel Costa Azul", "estrellas": 4, "admiteMascotas": true, "fechaApertura": "2018-03-12", "ubicacion": {"calle": "Avenida del Mar", "numero": 15, "codigoPostal": "11007", "coordenadas": {"lat": 36.53, "lon": -6.29}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 210, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 105, " ...
2025-12-09 22:49:33.273 [main] DEBUG org.mongodb.driver.operation - Received batch of 40 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.273 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.273 [main] INFO  Controllers.GestionaHoteles - Número de hoteles con Suite Junior: 40
2025-12-09 22:49:33.273 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 7: Añadir Penthouse al hotel h101 ===
2025-12-09 22:49:33.284 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.284 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.297 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command: {"update": "hoteles", "ordered": true, "txnNumber": 1, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101"}, "u": {"$push": {"habitaciones": {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}}}}]}
2025-12-09 22:49:33.347 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 53.3748 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 17 and the operation ID is 14. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316973, "i": 2}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 2}}}
2025-12-09 22:49:33.350 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.351 [main] INFO  Controllers.GestionaHoteles - Penthouse añadida correctamente
2025-12-09 22:49:33.351 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.351 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.352 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.394 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 42.4563 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 18 and the operation ID is 15. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 2}}}
2025-12-09 22:49:33.394 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.396 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.396 [main] INFO  Controllers.GestionaHoteles - Habitaciones actuales en h101:
2025-12-09 22:49:33.397 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-09 22:49:33.397 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTANDAR: 120.0€
2025-12-09 22:49:33.397 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-09 22:49:33.397 [main] INFO  Controllers.GestionaHoteles -   - PENTHOUSE: 500.0€
2025-12-09 22:49:33.397 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 8: Actualizar CP de Gran Vía a 28013 ===
2025-12-09 22:49:33.398 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.398 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.398 [main] DEBUG org.mongodb.driver.operation - retryWrites set but one or more writeRequests do not support retryable writes
2025-12-09 22:49:33.400 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command: {"update": "hoteles", "ordered": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}, "updates": [{"q": {"ubicacion.calle": "Gran Vía"}, "u": {"$set": {"ubicacion.codigoPostal": "28013"}}, "multi": true}]}
2025-12-09 22:49:33.448 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 48.9883 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 19 and the operation ID is 16. Command reply: {"n": 0, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316973, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 2}}}
2025-12-09 22:49:33.448 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.449 [main] INFO  Controllers.GestionaHoteles - Códigos postales actualizados
2025-12-09 22:49:33.449 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 9: Actualizar precio Individual en h101 ===
2025-12-09 22:49:33.449 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.449 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.451 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command: {"update": "hoteles", "ordered": true, "txnNumber": 2, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}, "updates": [{"q": {"idHotel": "h101", "$or": [{"habitaciones.tipo": "Individual"}, {"habitaciones.tipo": "INDIVIDUAL"}]}, "u": {"$set": {"habitaciones.$.precio": 90.0}}}]}
2025-12-09 22:49:33.493 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 43.4395 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 20 and the operation ID is 17. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316973, "i": 2}}, "t": 145}, "nModified": 0, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 2}}}
2025-12-09 22:49:33.494 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.494 [main] INFO  Controllers.GestionaHoteles - Precio actualizado a 90.00€
2025-12-09 22:49:33.494 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.494 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.495 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.538 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 41.6489 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 21 and the operation ID is 18. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}, {"tipo": "PENTHOUSE", "precio": 500.0, "capacidad": 4, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 2}}}
2025-12-09 22:49:33.538 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.538 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.539 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 10: Eliminar habitaciones > 300€ ===
2025-12-09 22:49:33.539 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.539 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.540 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command: {"update": "hoteles", "ordered": true, "txnNumber": 3, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}, "updates": [{"q": {"nombre": "Grand Hotel Central"}, "u": {"$pull": {"habitaciones": {"precio": {"$gt": 300.0}}}}}]}
2025-12-09 22:49:33.586 [main] DEBUG org.mongodb.driver.protocol.command - Command "update" succeeded on database "hoteles" in 45.5451 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 22 and the operation ID is 19. Command reply: {"n": 1, "electionId": {"$oid": "7fffffff0000000000000091"}, "opTime": {"ts": {"$timestamp": {"t": 1765316973, "i": 3}}, "t": 145}, "nModified": 1, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 3}}}
2025-12-09 22:49:33.586 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.586 [main] INFO  Controllers.GestionaHoteles - Habitaciones eliminadas
2025-12-09 22:49:33.587 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.587 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.587 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command: {"find": "hoteles", "filter": {"idHotel": "h101"}, "limit": 1, "singleBatch": true, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.630 [main] DEBUG org.mongodb.driver.protocol.command - Command "find" succeeded on database "hoteles" in 41.8802 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 23 and the operation ID is 20. Command reply: {"cursor": {"firstBatch": [{"_id": {"$oid": "6937fd62bcc6a138a8cc7a79"}, "idHotel": "h101", "nombre": "Grand Hotel Central", "estrellas": 5, "admiteMascotas": false, "fechaApertura": "2015-06-20", "ubicacion": {"calle": "Via Laietana", "numero": 30, "codigoPostal": "08003", "coordenadas": {"lat": 41.38, "lon": 2.17}}, "habitaciones": [{"tipo": "SUITEJUNIOR", "precio": 250.5, "capacidad": 2, "disponible": true}, {"tipo": "DOBLEESTÁNDAR", "precio": 120, "capacidad": 2, "disponible": false}, {"tipo": "INDIVIDUAL", "precio": 90.0, "capacidad": 1, "disponible": true}]}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 3}}}
2025-12-09 22:49:33.630 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.630 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.630 [main] INFO  Controllers.GestionaHoteles - Habitaciones restantes en h101:
2025-12-09 22:49:33.630 [main] INFO  Controllers.GestionaHoteles -   - SUITEJUNIOR: 250.5€
2025-12-09 22:49:33.630 [main] INFO  Controllers.GestionaHoteles -   - DOBLEESTANDAR: 120.0€
2025-12-09 22:49:33.630 [main] INFO  Controllers.GestionaHoteles -   - INDIVIDUAL: 90.0€
2025-12-09 22:49:33.632 [main] INFO  Controllers.GestionaHoteles - === EJERCICIO 11: Media de estrellas en Barcelona ===
2025-12-09 22:49:33.638 [main] DEBUG org.mongodb.driver.connection - Checkout started for connection to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.638 [main] DEBUG org.mongodb.driver.connection - Connection checked out: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7, duration=0 ms
2025-12-09 22:49:33.639 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" started on database "hoteles" using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command: {"aggregate": "hoteles", "pipeline": [{"$match": {"$or": [{"ubicacion.codigoPostal": {"$regex": "^08"}}, {"ubicacion.codigoPostal": {"$gte": 8000, "$lte": 8999}}]}}, {"$group": {"_id": null, "mediaEstrellas": {"$avg": "$estrellas"}}}], "cursor": {}, "$db": "hoteles", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "lsid": {"id": {"$binary": {"base64": "ubBvnDt2SdqeX93LLThUQQ==", "subType": "04"}}}}
2025-12-09 22:49:33.688 [main] DEBUG org.mongodb.driver.protocol.command - Command "aggregate" succeeded on database "hoteles" in 48.3465 ms using a connection with driver-generated ID 7 and server-generated ID 417073 to ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017. The request ID is 24 and the operation ID is 21. Command reply: {"cursor": {"firstBatch": [{"_id": null, "mediaEstrellas": 5.0}], "id": 0, "ns": "hoteles.hoteles"}, "ok": 1.0, "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1765316973, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "QfP1iIyikW50mPUQM6aezobTzHI=", "subType": "00"}}, "keyId": 7539268038143508492}}, "operationTime": {"$timestamp": {"t": 1765316973, "i": 3}}}
2025-12-09 22:49:33.688 [main] DEBUG org.mongodb.driver.operation - Received batch of 1 documents with cursorId 0 from server ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017
2025-12-09 22:49:33.688 [main] DEBUG org.mongodb.driver.connection - Connection checked in: address=ac-pyprurj-shard-00-02.ohbjl6o.mongodb.net:27017, driver-generated ID=7
2025-12-09 22:49:33.689 [main] INFO  Controllers.GestionaHoteles - Media de estrellas en Barcelona: 5,00
2025-12-09 22:49:33.689 [main] INFO  Controllers.GestionaHoteles - === FIN DE LAS PRUEBAS ===
